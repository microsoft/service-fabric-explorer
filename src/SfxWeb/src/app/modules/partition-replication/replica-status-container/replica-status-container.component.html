<div *ngIf="primaryReplica && primaryReplica.detail.raw" class="overview-container">
  <div class="essen-pane" style="width: 330px;" data-cy="essentials">
    <h3 class="underline-title">Primary Replica Queue Status</h3>
    <b><i class="mif-info link"></i>
      Describe what the primary queue means
    </b>

    <app-essential-item *ngFor="let item of overviewItems; let l = last; " [item]="item" [underline]="l">
    </app-essential-item>

    <app-display-duration [topInMilliseconds]="50" [bottomInMilliseconds]="100"></app-display-duration>

    <h3 class="underline-title" style="margin-top: 10px;">Secondary Replication Queue Status</h3>

    <b><i class="mif-info link"></i>
      Describe what the Secondary queue means
    </b>

    <app-warning description="The primary replication queue is full. This can cause availability issues, consider investigating the primary replica's machine or network conditions"></app-warning>
    <app-essential-item *ngFor="let item of overviewItems; let l = last; " [item]="item" [underline]="l">
    </app-essential-item>

    <app-display-duration [topInMilliseconds]="10" [bottomInMilliseconds]="100"></app-display-duration>


    <app-collapse-container collapsed="true" sectionName="Replicator Status">
      <div collapse-header>
        Replicator Status
      </div>
      <div collapse-body>
        <app-essential-item *ngFor="let item of replicationStatus; let l = last; " [item]="item" [underline]="l">
        </app-essential-item>
      </div>
    </app-collapse-container>
  </div>
  <div style="width: fit-content;" class="essen-pane">
    <div *ngFor="let replica of sortedReplicas; let i = index;">
      <div>
        {{replica.id}}
      </div>
      <app-phase-diagram [items]="phaseDiagram" [currentIndex]="i + 1"></app-phase-diagram>
    </div>
    <!-- <div class="replica-container">
      <app-replica-tile class="replica-tile tall" *ngFor="let replica of sortedReplicas"
        [ngClass]="{'expanded-tall': expandedDict[replica.name]}" [(showReplication)]="expandedDict[replica.name]"
        [replica]="replica" [replicator]="replicaDict[replica.name]" [replicatorHistory]="cachedData[replica.name]">
      </app-replica-tile>
    </div> -->
  </div>

  <div style="width: 600px; height: 100%;" class="essen-pane">
    <b><i class="mif-info link"></i>
      How much work does each replica have left to copy and save.
    </b>
    <app-bar-chart class="dynamic-bar-chart" [xAxisCategories]="tableData.categories"
    [dataSet]="tableData.dataPoints" [title]="tableData.title" [tooltip]="tableData.tooltipFunction"></app-bar-chart>

    <app-warning description="Replica 123412341234 is significantly slower on writing data. This could be due to CPU or network conditions on the node."></app-warning>

  </div>
</div>

<app-replication-trend-line [data]="chart" *ngIf="chart.length > 0"></app-replication-trend-line>
