<div style="min-height: 900px">
    <div class="tile-container">
        <app-dashboard-text-tile
        [barClass]="repairTaskCollection.repairTasks.length > 0 ? 'badge-upgrade-active' : 'badge-upgrade-inactive'"
        link="repairtasks" [count]="repairTaskCollection.repairTasks.length" *ngIf="repairTaskCollection.isInitialized"
        title="REPAIR JOBS IN PROGRESS" style="display: block"></app-dashboard-text-tile>

        <app-dashboard-text-scale-tile barClass="badge-upgrade-active" [text]="tileText" 
        title="LONGEST RUNNING" *ngIf="repairTaskCollection.repairTasks.length > 0" class="long"
            style="display: block"></app-dashboard-text-scale-tile>
    </div>

    <div *ngIf="timelineData" style="margin-bottom: 20px;">
        <div data-cy="pendingjobs" class="essen-pane detail-pane" style="margin-bottom: 0px;">
            <app-collapse-container sectionName="Pending Repair Tasks" collapsed="true">
                <h4 collapse-header>
                    Repair Task timeline Legend
                </h4>
                <div style="display: flex; flex-direction: row;" collapse-body>
                    <div class="vis-item vis-range blue example-wrapper">
                        <div class="vis-item-content">
                            The repair job is still in progress
                        </div>
                    </div>
                    <div class="vis-item vis-range red example-wrapper">
                        <div class="vis-item-content">
                            The repair job has finished with a non success code
                        </div>
                    </div>
                    <div class="vis-item vis-range green example-wrapper">
                        <div class="vis-item-content">
                            The repair job has finished with a success code
                        </div>
                    </div>
                </div>
            </app-collapse-container>
        </div>

        <div style="margin-left: 15px;">
            <app-event-store-timeline [events]="timelineData" [fitOnDataChange]="false" data-cy="timeline" 
            [displayMoveToStart]="false" [displayMoveToEnd]="false"></app-event-store-timeline>
        </div>
    </div>
    
    <div class="detail-pane essen-pane" data-cy="pendingjobs">
        <app-collapse-container sectionName="Pending Repair Tasks">
            <h4 collapse-header>
                Pending Repair Tasks
            </h4>
            <app-detail-list [list]="repairTaskCollection.repairTasks" [listSettings]="repairTaskListSettings" collapse-body (sorted)="sorted($event, false)"></app-detail-list>
        </app-collapse-container>
    </div>
    
    <div class="detail-pane essen-pane" data-cy="completedjobs">
        <app-collapse-container collapsed=true sectionName="Completed Repair Tasks">
            <h4 collapse-header>
                Completed Repair Tasks
            </h4>
            <app-detail-list [list]="repairTaskCollection.completedRepairTasks" [listSettings]="completedRepairTaskListSettings" collapse-body (sorted)="sorted($event)"></app-detail-list>
        </app-collapse-container>
    </div>
</div>
