<app-navbar type="Cluster Recovery Insights" [showCopy]="false"></app-navbar>

<!-- Recovery Progress Bar -->
<app-recovery-progress></app-recovery-progress>

<!-- FMM Nodes -->
<div class="app-fmm-nodes">
    <app-fmm-nodes></app-fmm-nodes>
</div>

<!-- Replica List -->
<div class="essen-pane detail-pane nav-wrapper">
    <div ngbNav #nav="ngbNav">
        <span ngbNavItem>
            <h4>Failover Manager Replicas</h4>
            
            <!-- Replica Set Size Information -->
            <div class="replica-set-info">
                <div class="info-item">
                    <span class="info-label">Min Replica Set Size:</span>
                    <span class="info-value">{{ minReplicaSetSize }}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Target Replica Set Size:</span>
                    <span class="info-value">{{ targetReplicaSetSize }}</span>
                </div>
                <!-- Display LastQuorumLossDurationInSeconds if partition is InQuorumLoss -->
                <div class="info-item" *ngIf="partitionStatus === 'InQuorumLoss'">
                    <span class="info-label">Last Quorum Loss Duration:</span>
                    <span class="info-value quorum-loss">{{ lastQuorumLossDurationInSeconds }} seconds</span>
                </div>
            </div>
            
            <ng-template ngbNavContent>
                <app-detail-list [list]="replicaData" [listSettings]="listSettings"></app-detail-list>
            </ng-template>
        </span>
    </div>
    <div [ngbNavOutlet]="nav"></div>
</div>

<!-- Replica Details Panel -->
<app-replica-details [replicaData]="replicaData"></app-replica-details>