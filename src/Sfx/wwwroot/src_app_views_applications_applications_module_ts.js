"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_applications_applications_module_ts"],{2165:(E,O,s)=>{s.d(O,{J:()=>M});var e=s(2654),f=s(1086),C=s(8555),l=s(1709),t=s(5563),_=s(2684),h=s(5e3);let M=(()=>{class b{constructor(d){this.injector=d,this.subscriptions=new e.w}ngOnInit(){this.activatedRoute=this.injector.get(C.gz),this.refreshService=this.injector.get(t.g),this.messageService=this.injector.get(_.e),this.router=this.injector.get(C.F0),this.subscriptions.add(this.activatedRoute.params.subscribe(()=>{this.getParams(this.activatedRoute.snapshot),this.setup(),this.subscriptions.add(this.refreshService.refreshSubject.subscribe(()=>this.fullRefresh().subscribe())),this.subscriptions.add(this.fullRefresh().subscribe())})),console.log(this)}getClassName(){return this.constructor.name}setup(){}ngOnDestroy(){this.subscriptions.unsubscribe()}fullRefresh(){return this.common().pipe((0,l.zg)(()=>this.refresh(this.messageService)))}getParams(d){}refresh(d){return(0,f.of)(null)}common(d){return(0,f.of)(null)}}return b.\u0275fac=function(d){return new(d||b)(h.Y36(h.zs3))},b.\u0275dir=h.lG2({type:b}),b})()},7883:(E,O,s)=>{s.d(O,{m:()=>t});var e=s(9808),f=s(8555),C=s(4466),l=s(5e3);let t=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=l.oAB({type:_}),_.\u0275inj=l.cJS({imports:[[e.ez,f.Bz,C.m]]}),_})()},2957:(E,O,s)=>{s.d(O,{u:()=>b});var e=s(5e3),f=s(9808),C=s(8555);function l(c,d){if(1&c&&(e.TgZ(0,"a",10),e._UZ(1,"span",11),e.qZA()),2&c){const m=e.oxw(2);e.Q6J("href",m.helpTextLink,e.LSH),e.uIk("aria-label","learn about"+m.title)}}function t(c,d){if(1&c&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),e._UZ(4,"div",6),e.TgZ(5,"div",7),e._uU(6),e.YNc(7,l,2,2,"a",8),e.qZA(),e.TgZ(8,"div",9),e._uU(9),e.qZA(),e.Hsn(10),e.qZA()()()()),2&c){const m=e.oxw();e.xp6(4),e.Q6J("ngClass",m.barClass),e.xp6(2),e.hij("",m.title," "),e.xp6(1),e.Q6J("ngIf",m.helpTextLink),e.xp6(1),e.Udp("margin",m.middleMargin),e.xp6(1),e.Oqu(m.count)}}function _(c,d){1&c&&e.GkF(0)}function h(c,d){if(1&c&&(e.TgZ(0,"a",12),e.YNc(1,_,1,0,"ng-container",13),e.qZA()),2&c){const m=e.oxw(),g=e.MAs(1);e.Q6J("routerLink",m.link),e.xp6(1),e.Q6J("ngTemplateOutlet",g)}}const M=["*"];let b=(()=>{class c{constructor(){this.barClass="",this.middleMargin="15px 0",this.helpTextLink=""}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-dashboard-text-tile"]],inputs:{barClass:"barClass",title:"title",count:"count",link:"link",middleMargin:"middleMargin",helpTextLink:"helpTextLink"},ngContentSelectors:M,decls:3,vars:2,consts:[["internal",""],[3,"routerLink",4,"ngIf","ngIfElse"],[1,"dashboard-wrapper"],[1,"dashboard","dashboard-small",2,"padding","11px 7px"],[1,"dashboard-tile"],[1,"dashboard-tile-inner"],[1,"dashboard-tile-leftbar",3,"ngClass"],[1,"dashboard-tile-title"],["target","_blank","style","float: right;",3,"href",4,"ngIf"],[1,"dashboard-tile-number"],["target","_blank",2,"float","right",3,"href"],[1,"mif-info","link"],[3,"routerLink"],[4,"ngTemplateOutlet"]],template:function(m,g){if(1&m&&(e.F$t(),e.YNc(0,t,11,6,"ng-template",null,0,e.W1O),e.YNc(2,h,2,2,"a",1)),2&m){const y=e.MAs(1);e.xp6(2),e.Q6J("ngIf",g.link)("ngIfElse",y)}},directives:[f.mk,f.O5,C.yS,f.tP],styles:[".dashboard-container-small[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:270px}.chart-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.dashboard-wrapper[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;height:100%;width:100%}.dashboard-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--font-primary-color)!important}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{box-shadow:var(--primary-box-shadow);border-radius:var(--primary-border-radius);color:var(--font-primary-color);padding:7px;background:var(--primary-background-color);text-align:center;height:100%;width:100%}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard.has-view-path[_ngcontent-%COMP%]{cursor:pointer}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]{display:block;position:relative;text-align:left;width:100%;height:100%}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding-left:16px!important}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar[_ngcontent-%COMP%]{width:6px;position:absolute;left:0;top:0;bottom:0}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar.badge-upgrade-active[_ngcontent-%COMP%]{background:var(--accent-darkblue)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar.badge-upgrade-inactive[_ngcontent-%COMP%]{background:var(--accent-background-color)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-title[_ngcontent-%COMP%]{display:block;font-size:11pt;line-height:.9}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-number[_ngcontent-%COMP%]{display:block;font-size:72px;line-height:1;margin:20px 0}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]{padding:17px 7px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]{margin:20px 5px 0;display:-ms-flexbox;display:flex;-ms-flex-pack:space-evenly;justify-content:space-evenly}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-title[_ngcontent-%COMP%]{font-size:var(--font-size-default)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-number[_ngcontent-%COMP%]{font-size:24pt}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]{padding:7px 12px;position:relative;height:100%;width:100%;overflow:hidden}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]{margin:0 0 0 20px;float:right}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]{height:36px;padding:0 0 0 14px;margin:4px 0 8px}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-title[_ngcontent-%COMP%]{font-size:11pt}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-number[_ngcontent-%COMP%]{font-size:16pt;width:54px}"]}),c})()},1926:(E,O,s)=>{s.d(O,{m:()=>_});var e=s(9808),f=s(4466),C=s(322),l=s(6461),t=s(5e3);let _=(()=>{class h{}return h.\u0275fac=function(b){return new(b||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[[e.ez,f.m,C.HK,l.Q]]}),h})()},1997:(E,O,s)=>{s.d(O,{S:()=>y});var e=s(3470),C=s(2055),l=s(5053),t=s(5e3),_=s(9808),h=s(322);const M=["chart"];function b(i,u){if(1&i&&(t.TgZ(0,"div",5)(1,"div",6),t._uU(2),t.qZA()()),2&i){const o=u.$implicit;t.Q6J("ngbTooltip",o.name+" - "+o.stateName),t.xp6(1),t.Q6J("ngClass",o.badgeClass),t.xp6(1),t.Oqu(o.name)}}function c(i,u){if(1&i&&(t.TgZ(0,"div",3),t.YNc(1,b,3,3,"div",4),t.qZA()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.upgradeDomains)}}function d(i,u){if(1&i&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.TgZ(2,"div",11),t._uU(3),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.qZA()()),2&i){const o=u.$implicit;t.xp6(1),t.Q6J("ngClass",o.css),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.uds.length)}}function m(i,u){if(1&i&&(t.TgZ(0,"div")(1,"div",7),t.YNc(2,d,6,3,"div",8),t.qZA()()),2&i){const o=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",o.tiles)}}function g(i,u){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,c,2,1,"div",2),t.YNc(2,m,3,1,"div",0),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.upgradeDomains.length<15),t.xp6(1),t.Q6J("ngIf",o.upgradeDomains.length>14)}}let y=(()=>{class i{constructor(){this.showChart=!1,this.tiles=[],this.displayUd=[]}ngAfterViewInit(){if(this.showChart){const o=this.getDataSet();this.chart=(0,e.chart)(this.chartContainer.nativeElement,{chart:{type:"pie",width:350,height:300,backgroundColor:null,borderRadius:0},title:{text:"",verticalAlign:"middle",style:{color:"#1234",fontSize:"15pt"}},credits:{enabled:!1},plotOptions:{pie:{borderWidth:2,innerSize:"50%",borderColor:"#262626"},series:{dataLabels:{enabled:!0,color:"white",borderColor:"white",inside:!0,textPath:{enabled:!1}}}},tooltip:{formatter:(()=>{const v=this;return function(P){return`${this.key} <br> ${v.upgradeDomains[this.point.index].stateName}`}})()},series:[{data:o}]})}}getDataSet(){const o={"badge-unknown":"gray","badge-ok":"#088105","badge-warning":"#0075c9","badge-error":"#E81123"};let v=[];if(this.upgradeDomains.length>30){const P=new C.A;this.upgradeDomains.forEach(T=>P.add(T.stateName+"---"+T.badgeClass)),v=P.entries().map(T=>{const U=T.key.toString().split("---");return{type:"pie",name:U[0]+" : "+T.value,y:T.value,color:o[U[1]],dataLabels:{style:{fontSize:"13px",fontColor:"#fff"}}}})}else v=this.upgradeDomains.map(P=>({type:"pie",name:P.prefix+P.name,y:1,color:o[P.badgeClass],dataLabels:{style:{fontSize:"13px",fontColor:"#fff"}}}));return v.every(P=>0===P.y)&&v.push({type:"pie",name:"",y:1,color:"gray",dataLabels:{style:{fontSize:"20px",fontColor:"#fff"}}}),v}ngOnChanges(){if(this.chart)this.chart.series[0].setData(this.getDataSet());else{const o={};o[l.TK.Pending]={name:l.TK.Pending,css:l.IU.BadgeUnknown,uds:[]},o[l.TK.InProgress]={name:l.TK.InProgress,css:l.IU.BadgeWarning,uds:[]},o[l.TK.Completed]={name:l.TK.Completed,css:l.IU.BadgeOK,uds:[]},o[l.TK.Failed]={name:l.TK.Failed,css:l.IU.BadgeError,uds:[]},this.tiles=[o[l.TK.Completed],o[l.TK.InProgress],o[l.TK.Pending],o[l.TK.Failed]],this.upgradeDomains.forEach(v=>{o[v.stateName].uds.push(v)})}}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-upgrade-progress"]],viewQuery:function(o,v){if(1&o&&t.Gf(M,5),2&o){let P;t.iGM(P=t.CRH())&&(v.chartContainer=P.first)}},inputs:{upgradeDomains:"upgradeDomains",showChart:"showChart"},features:[t.TTD],decls:3,vars:1,consts:[[4,"ngIf"],["chart",""],["class","upgrade-progress",4,"ngIf"],[1,"upgrade-progress"],["class","upgrade-domain-bar","tooltipClass","styled-tooltip",3,"ngbTooltip",4,"ngFor","ngForOf"],["tooltipClass","styled-tooltip",1,"upgrade-domain-bar",3,"ngbTooltip"],[1,"upgrade-domain-title",3,"ngClass"],[1,"dashboard-datapoints"],["class","dashboard-datapoint",4,"ngFor","ngForOf"],[1,"dashboard-datapoint"],[1,"dashboard-datapoint-leftbar",3,"ngClass"],[1,"dashboard-datapoint-title"],[1,"dashboard-datapoint-number"]],template:function(o,v){1&o&&(t.YNc(0,g,3,2,"div",0),t._UZ(1,"div",null,1)),2&o&&t.Q6J("ngIf",!v.showChart)},directives:[_.O5,_.sg,h._L,_.mk],styles:[".upgrade-progress[_ngcontent-%COMP%]{background-color:transparent;padding:1px;font-size:var(--font-size-small);margin:1px;border-spacing:0}.upgrade-progress[_ngcontent-%COMP%]   .upgrade-domain-bar[_ngcontent-%COMP%]{display:inline-block;color:#fff!important;padding:1px;text-align:center;vertical-align:middle}.upgrade-progress[_ngcontent-%COMP%]   .upgrade-domain-bar[_ngcontent-%COMP%]   .upgrade-domain-title[_ngcontent-%COMP%]{border:1px solid black;padding:1px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:32px;font-size:9pt;width:80px;height:35px;color:#fff!important}.badge-unknown[_ngcontent-%COMP%]{background-color:var(--badge-unknown)}.badge-ok[_ngcontent-%COMP%]{background-color:var(--badge-ok)}.badge-warning[_ngcontent-%COMP%]{background-color:var(--accent-darkblue)}.badge-error[_ngcontent-%COMP%]{background-color:var(--badge-error)}"],changeDetection:0}),i})()},8285:(E,O,s)=>{s.d(O,{P:()=>m});var e=s(5e3),f=s(5664),C=s(9808),l=s(322);function t(g,y){if(1&g&&e._UZ(0,"button",5),2&g){const i=e.oxw();e.Gre("mif-2x status-icon ",i.collapsed?"mif-arrow-drop-down":"mif-arrow-drop-up",""),e.uIk("aria-label",i.displayText)("aria-expanded",!i.collapsed)}}function _(g,y){1&g&&(e.TgZ(0,"div"),e.Hsn(1,1),e.qZA())}function h(g,y){1&g&&(e.TgZ(0,"div"),e.Hsn(1,2),e.qZA())}const M=[[["","collapse-header",""]],[["","collapse-body",""]],[["","closed-body",""]]],b=function(g){return{"base-header":g}},c=function(g){return{"margin-left":g}},d=["[collapse-header]","[collapse-body]","[closed-body]"];let m=(()=>{class g{constructor(i){this.liveAnnouncer=i,this.collapsed=!1,this.disabled=!1,this.hideTooltip=!1,this.sectionName="this",this.tooltipSouth=!1,this.collapsedChange=new e.vpe,this.displayText=""}ngOnChanges(){this.setText()}ngOnInit(){this.setText()}changeCollapseState(){this.disabled||(this.liveAnnouncer.announce(this.sectionName+" Section has been "+this.collapsed?"Opened":"Closed"),this.collapsed=!this.collapsed,this.collapsedChange.emit(this.collapsed)),this.setText()}setText(){this.displayText=(this.collapsed?"Open ":"Close ")+this.sectionName+" Section"}}return g.\u0275fac=function(i){return new(i||g)(e.Y36(f.Kd))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-collapse-container"]],inputs:{collapsed:"collapsed",disabled:"disabled",hideTooltip:"hideTooltip",sectionName:"sectionName",tooltipSouth:"tooltipSouth"},outputs:{collapsedChange:"collapsedChange"},features:[e.TTD],ngContentSelectors:d,decls:7,vars:13,consts:[[2,"position","relative"],["tooltipClass","styled-tooltip",1,"flex-center",3,"ngClass","ngbTooltip","placement","disableTooltip","click"],["tabindex","0",3,"class",4,"ngIf"],[1,"header-wrapper",3,"ngStyle"],[4,"ngIf"],["tabindex","0"]],template:function(i,u){1&i&&(e.F$t(M),e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return u.changeCollapseState()}),e.YNc(2,t,1,5,"button",2),e.TgZ(3,"div",3),e.Hsn(4),e.qZA()(),e.YNc(5,_,2,0,"div",4),e.YNc(6,h,2,0,"div",4),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngClass",e.VKq(9,b,!u.disabled))("ngbTooltip",u.displayText)("placement",u.tooltipSouth?"bottom":"top")("disableTooltip",u.disabled||u.hideTooltip),e.uIk("aria-expanded",!u.collapsed),e.xp6(1),e.Q6J("ngIf",!u.disabled),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,c,u.disabled?"25px":"")),e.xp6(2),e.Q6J("ngIf",!u.collapsed),e.xp6(1),e.Q6J("ngIf",u.collapsed))},directives:[C.mk,l._L,C.O5,C.PC],styles:[".base-header[_ngcontent-%COMP%]{border-radius:var(--primary-border-radius);cursor:pointer}.base-header[_ngcontent-%COMP%]:hover, .base-header[_ngcontent-%COMP%]:focus-within{filter:brightness(100%);background-color:#ffffff1a}.header-wrapper[_ngcontent-%COMP%]{width:calc(100% - 25px);display:inline-block}.status-icon[_ngcontent-%COMP%]{width:25px}button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:0px;color:#fff}"]}),g})()},5645:(E,O,s)=>{s.r(O),s.d(O,{ApplicationsModule:()=>$});var e=s(9808),f=s(8555),C=s(5237),l=s(5053),t=s(5e3),_=s(2261),h=s(3240),M=s(8118);let b=(()=>{class n{constructor(a,p){this.tree=a,this.dataService=p,this.SFXClusterName="",this.tabs=[{name:"all applications",route:"./"},{name:"upgrades in progress",route:"./upgrades"},{name:"app types",route:"./apptypes"}]}ngOnInit(){this.dataService.clusterManifest.ensureInitialized().subscribe(()=>{this.dataService.clusterManifest.isEventStoreEnabled&&(this.tabs=this.tabs.concat(l.gT.EventsTab))}),this.tree.selectTreeNode([C.R.cluster(),C.R.appGroup()],!0)}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(_.r),t.Y36(h.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-base"]],decls:4,vars:3,consts:[["type","Applications",3,"tabs","name","showCopy"],[1,"main-view"],[1,"flex-child"]],template:function(a,p){1&a&&(t._UZ(0,"app-navbar",0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"router-outlet"),t.qZA()()),2&a&&t.Q6J("tabs",p.tabs)("name","")("showCopy",!1)},directives:[M.S,f.lC],styles:[""]}),n})();var c=s(2165),d=s(6174),m=s(4850),g=s(4333),y=s(8833);function i(n,r){if(1&n&&(t.TgZ(0,"div",1),t._UZ(1,"app-detail-list",2),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Q6J("list",a.apps.collection)("listSettings",a.listSettings)}}let u=(()=>{class n extends c.J{constructor(a,p,x){super(x),this.data=a,this.settings=p}setup(){this.listSettings=this.settings.getNewOrExistingListSettings("apps",["name"],[new d.a7("name","Name",a=>a.viewPath),new d.v0("raw.TypeName","Application Type"),new d.NL("raw.TypeVersion","Version"),new d.Gp("healthState","Health State"),new d.v0("raw.Status","Status")])}refresh(a){return this.data.getApps(!0,a).pipe((0,m.U)(p=>{this.apps=p}))}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.D),t.Y36(g.g),t.Y36(t.zs3))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-all"]],features:[t.qOj],decls:1,vars:1,consts:[["class","detail-pane essen-pane","data-cy","appslist",4,"ngIf"],["data-cy","appslist",1,"detail-pane","essen-pane"],["collapse-body","",3,"list","listSettings"]],template:function(a,p){1&a&&t.YNc(0,i,2,2,"div",0),2&a&&t.Q6J("ngIf",p.apps)},directives:[e.O5,y.m],styles:[""]}),n})();var o=s(2621),v=s(5893);let P=(()=>{class n extends c.J{constructor(a,p){super(p),this.data=a}setup(){this.listEventStoreData=[this.data.getApplicationEventData()]}refresh(a){return this.listEventStoreData[0].eventsList.refresh(new o.nP(a))}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.D),t.Y36(t.zs3))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-events"]],features:[t.qOj],decls:2,vars:1,consts:[[3,"listEventStoreData"]],template:function(a,p){1&a&&(t.TgZ(0,"div"),t._UZ(1,"app-event-store",0),t.qZA()),2&a&&(t.xp6(1),t.Q6J("listEventStoreData",p.listEventStoreData))},directives:[v.h],styles:[""]}),n})();var T=s(1709),U=s(1086),w=s(567),I=s(1997);let L=(()=>{class n{constructor(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-view-upgrades-list-item"]],decls:1,vars:1,consts:[[3,"upgradeDomains"]],template:function(a,p){1&a&&t._UZ(0,"app-upgrade-progress",0),2&a&&t.Q6J("upgradeDomains",p.item.upgradeDomains)},directives:[I.S],styles:[""]}),n})();function N(n,r){if(1&n&&(t.TgZ(0,"div",1),t._UZ(1,"app-detail-list",2),t.qZA()),2&n){const a=t.oxw();t.xp6(1),t.Q6J("list",a.upgradeProgresses)("listSettings",a.upgradeAppsListSettings)}}let B=(()=>{class n extends c.J{constructor(a,p,x){super(x),this.data=a,this.settings=p,this.upgradeProgresses=[]}setup(){this.upgradeAppsListSettings=this.settings.getNewOrExistingListSettings("upgrades",["name"],[new d.a7("name","Name",a=>a.viewPath),new d.a7("parent.raw.TypeName","Application Type",a=>a.parent.appTypeViewPath),new d.NL("parent.raw.TypeVersion","Current Version"),new d.NL("raw.TargetApplicationTypeVersion","Target Version"),new d.mP(L,"upgrade","Progress by Upgrade Domain",{enableFilter:!1}),new d.v0("raw.UpgradeState","Upgrade State")])}refresh(a){return this.data.getApps(!0,a).pipe((0,T.zg)(p=>{this.apps=p;const x=this.apps.collection.filter(A=>A.isUpgrading).map(A=>A.upgradeProgress.refresh(a));return 0===x.length?(0,U.of)(null):(0,w.D)(x).pipe((0,m.U)(()=>{this.upgradeProgresses=this.apps.collection.filter(A=>A.isUpgrading).map(A=>A.upgradeProgress)}))}))}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.D),t.Y36(g.g),t.Y36(t.zs3))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upgrading"]],features:[t.qOj],decls:1,vars:1,consts:[["class","detail-pane essen-pane","data-cy","upgradingapps",4,"ngIf"],["data-cy","upgradingapps",1,"detail-pane","essen-pane"],[3,"list","listSettings"]],template:function(a,p){1&a&&t.YNc(0,N,2,2,"div",0),2&a&&t.Q6J("ngIf",p.upgradeProgresses)},directives:[e.O5,y.m],styles:[""]}),n})();var K=s(2957),J=s(8285),D=s(322);function R(n,r){if(1&n&&t._UZ(0,"app-dashboard-text-tile",4),2&n){const a=t.oxw();t.Q6J("barClass","badge-upgrade-active")("count",a.usage.activeAppTypes.length)}}function Q(n,r){if(1&n&&t._UZ(0,"app-dashboard-text-tile",5),2&n){const a=t.oxw();t.Q6J("barClass","badge-upgrade-inactive")("count",a.usage.inactiveTypes.length)}}function z(n,r){if(1&n&&t._UZ(0,"app-detail-list",17),2&n){const a=t.oxw(2);t.Q6J("list",a.usage.activeAppTypes)("listSettings",a.activeAppTypesListSettings)}}function W(n,r){if(1&n&&t._UZ(0,"app-detail-list",18),2&n){const a=t.oxw(2);t.Q6J("list",a.usage.inactiveTypes)("listSettings",a.appTypesListSettings)}}function Y(n,r){if(1&n&&(t.TgZ(0,"div",6)(1,"app-collapse-container",7)(2,"h4",8),t._uU(3," Application Type versions "),t.qZA(),t.TgZ(4,"div",9)(5,"div",10,11)(7,"div",12)(8,"a",13),t._uU(9," In Use "),t._UZ(10,"span",14),t.qZA(),t.YNc(11,z,1,2,"ng-template",15),t.qZA(),t.TgZ(12,"div",12)(13,"a",13),t._uU(14," Unused "),t.qZA(),t.YNc(15,W,1,2,"ng-template",15),t.qZA()(),t._UZ(16,"div",16),t.qZA()()()),2&n){const a=t.MAs(6);t.xp6(16),t.Q6J("ngbNavOutlet",a)}}let F=(()=>{class n extends c.J{constructor(a,p,x){super(x),this.dataService=a,this.settings=p}setup(){this.activeAppTypesListSettings=this.settings.getNewOrExistingAppTypeListSettings(!1,!1),this.appTypesListSettings=this.settings.getNewOrExistingAppTypeListSettings(!1,!1)}refresh(a){return this.dataService.appTypeGroups.ensureInitialized(!0,a).pipe((0,T.zg)(()=>this.dataService.appTypeGroups.getAppTypeUsage().pipe((0,m.U)(p=>{this.usage=p}))))}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(h.D),t.Y36(g.g),t.Y36(t.zs3))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apptype-viewer"]],features:[t.qOj],decls:4,vars:3,consts:[["data-cy","tiles",1,"tile-container"],["title","Active Application Types","style","display: block","data-cy","active-app-type",3,"barClass","count",4,"ngIf"],["title","Unused Application Types","style","display: block","data-cy","inactive-app-type",3,"barClass","count",4,"ngIf"],["class","detail-pane essen-pane",4,"ngIf"],["title","Active Application Types","data-cy","active-app-type",2,"display","block",3,"barClass","count"],["title","Unused Application Types","data-cy","inactive-app-type",2,"display","block",3,"barClass","count"],[1,"detail-pane","essen-pane"],["sectionName","Application Type versions"],["collapse-header",""],["collapse-body",""],["ngbNav","",1,"nav-wrapper"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink","",2,"font-size","12pt"],["tabindex","0","ngbTooltip","Application Types which have at least 1 application instance.","placement","bottom","tooltipClass","styled-tooltip","container","body",1,"mif-info",2,"font-size","small"],["ngbNavContent",""],[3,"ngbNavOutlet"],["data-cy","appTypeVersions",3,"list","listSettings"],[3,"list","listSettings"]],template:function(a,p){1&a&&(t.TgZ(0,"div",0),t.YNc(1,R,1,2,"app-dashboard-text-tile",1),t.YNc(2,Q,1,2,"app-dashboard-text-tile",2),t.qZA(),t.YNc(3,Y,17,1,"div",3)),2&a&&(t.xp6(1),t.Q6J("ngIf",p.usage),t.xp6(1),t.Q6J("ngIf",p.usage),t.xp6(1),t.Q6J("ngIf",p.usage))},directives:[e.O5,K.u,J.P,D.Pz,D.nv,D.Vx,D.uN,y.m,D.tO],styles:[""]}),n})();const V=[{path:"",component:b,children:[{path:"",component:u},{path:"apptypes",component:(()=>{class n{constructor(){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-apptypes"]],decls:1,vars:0,template:function(a,p){1&a&&t._UZ(0,"app-apptype-viewer")},directives:[F],styles:[""]}),n})()},{path:"upgrades",component:B},{path:"events",component:P}]}];let j=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.Bz.forChild(V)],f.Bz]}),n})();var S=s(4466),Z=s(6461),k=s(3308),X=s(1926),G=s(7883);let H=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[e.ez,G.m,D.Oz,Z.Q,S.m]]}),n})(),$=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[e.ez,j,S.m,Z.Q,k.e,X.m,H]]}),n})()}}]);