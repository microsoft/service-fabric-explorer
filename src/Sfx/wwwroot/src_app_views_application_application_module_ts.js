"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_application_application_module_ts"],{4132:(xt,Z,r)=>{r.r(Z),r.d(Z,{ApplicationModule:()=>ht});var g=r(9808),v=r(8555),f=r(4850),y=r(4286),J=r(2165),e=r(5e3),_=r(3240);let m=(()=>{class n extends J.J{constructor(t,i){super(i),this.data=t}common(t){return this.data.getApp(this.appId,!0,t).pipe((0,f.U)(i=>{this.app=i}))}getParams(t){this.appId=y.a.getAppId(t),this.appTypeName=y.a.getAppTypeName(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3))},n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})();var x=r(5237),w=r(5053),P=r(2261),Q=r(8118);let U=(()=>{class n extends m{constructor(t,i,a){super(t,i),this.data=t,this.tree=a,this.tabs=[{name:"essentials",route:"./"},{name:"details",route:"./details"},{name:"deployments",route:"./deployments"},{name:"manifest",route:"./manifest"}]}setup(){this.tree.selectTreeNode([x.R.cluster(),x.R.appGroup(),x.R.appType(this.appTypeName),x.R.app(this.appId)]),this.data.clusterManifest.ensureInitialized().subscribe(()=>{this.data.clusterManifest.isBackupRestoreEnabled&&!this.tabs.some(t=>"backup"===t.name)&&this.tabs.push({name:"backup",route:"./backup"}),this.data.clusterManifest.isEventStoreEnabled&&-1===this.tabs.indexOf(w.gT.EventsTab)&&this.tabs.push(w.gT.EventsTab)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3),e.Y36(P.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-base"]],features:[e.qOj],decls:4,vars:3,consts:[["type","Application",3,"tabs","name","actions"],[1,"main-view"],[1,"flex-child"]],template:function(t,i){1&t&&(e._UZ(0,"app-navbar",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()()),2&t&&e.Q6J("tabs",i.tabs)("name",null==i.app?null:i.app.name)("actions",null==i.app?null:i.app.actions)},directives:[Q.S,v.lC],styles:[""]}),n})();var s=r(6174),q=r(567),h=r(1136),A=r(8966),O=r(6808),d=r(3075),u=r(322),N=r(8285);function Y(n,o){if(1&n&&(e.TgZ(0,"label",18),e._UZ(1,"input",19),e._uU(2),e.qZA()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("value",i.toString()),e.xp6(1),e.hij(" ",t," ")}}function k(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Instance Count"),e.qZA())}const c=function(){return{standalone:!0}};function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",34),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.InstanceCount=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.InstanceCount)}}function F(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Has Persisted State"),e.qZA())}function B(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",35),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.HasPersistedState=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.HasPersistedState)}}function H(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Min Replica Set Size"),e.qZA())}function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",36),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.MinReplicaSetSize=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.MinReplicaSetSize)}}function L(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Target Replica Set Size"),e.qZA())}function z(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",37),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.TargetReplicaSetSize=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.TargetReplicaSetSize)}}function j(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Auxiliary Replica Count"),e.qZA())}function K(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",38),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.AuxiliaryReplicaCount=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.AuxiliaryReplicaCount)}}function $(n,o){1&n&&(e.TgZ(0,"dt",39),e._uU(1,"Replica Restart Wait Duration"),e.qZA())}function W(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",40),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.ReplicaRestartWaitDurationSeconds=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.ReplicaRestartWaitDurationSeconds)}}function V(n,o){1&n&&(e.TgZ(0,"dt",41),e._uU(1,"Quorum Loss Wait Duration"),e.qZA())}function X(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",42),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.QuorumLossWaitDurationSeconds=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.QuorumLossWaitDurationSeconds)}}function G(n,o){1&n&&(e.TgZ(0,"dt",43),e._uU(1,"Stand By Replica Keep Duration"),e.qZA())}function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",44),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.StandByReplicaKeepDurationSeconds=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.StandByReplicaKeepDurationSeconds)}}function te(n,o){if(1&n&&(e.TgZ(0,"label",18),e._UZ(1,"input",19),e._uU(2),e.qZA()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("value",i.toString()),e.xp6(1),e.hij(" ",t," ")}}function ne(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Count"),e.qZA())}function ie(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",45),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.PartitionDescription.Count=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.PartitionDescription.Count)}}function oe(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Low Key"),e.qZA())}function ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",46),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.PartitionDescription.LowKey=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.PartitionDescription.LowKey)}}function pe(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"High Key"),e.qZA())}function re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"input",47),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(3).description.raw.PartitionDescription.HighKey=a}),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.description.raw.PartitionDescription.HighKey)}}function ce(n,o){1&n&&(e.TgZ(0,"dt"),e._uU(1,"Name List"),e.qZA())}function se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",49),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).index;return e.oxw(4).description.raw.PartitionDescription.Names[l]=a}),e.qZA()(),e.TgZ(3,"td")(4,"button",48),e.NdJ("click",function(){const p=e.CHM(t).index;return e.oxw(4).description.raw.PartitionDescription.Names.splice(p,1)}),e._uU(5,"Remove"),e.qZA()()()}if(2&n){const t=o.index,i=e.oxw(4);e.xp6(2),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",i.description.raw.PartitionDescription.Names[t])}}function le(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",50),e._uU(2,"No items to display"),e.qZA()())}function de(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"dd")(1,"div",30)(2,"table",31)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"th")(8,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).description.addName()}),e._uU(9,"Add"),e.qZA()()()(),e.TgZ(10,"tbody"),e.YNc(11,se,6,3,"tr",33),e.YNc(12,le,3,0,"tr",24),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.xp6(11),e.Q6J("ngForOf",t.description.raw.PartitionDescription.Names),e.xp6(1),e.Q6J("ngIf",0===t.description.raw.PartitionDescription.Names.length)}}function _e(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index;return e.oxw().$implicit.Type=a.toString()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t," ")}}function ue(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,_e,2,1,"button",55),e.qZA()),2&n){const t=o.first;e.xp6(1),e.Q6J("ngIf",!t)}}function me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",51)(3,"button",52),e._uU(4),e.qZA(),e.TgZ(5,"div",53),e.YNc(6,ue,2,1,"span",33),e.qZA()()(),e.TgZ(7,"td")(8,"input",54),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.DomainName=a}),e.qZA()(),e.TgZ(9,"td")(10,"button",48),e.NdJ("click",function(){const p=e.CHM(t).index;return e.oxw(3).description.raw.ServicePlacementPolicies.splice(p,1)}),e._uU(11,"Remove"),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(4),e.hij(" ",i.description.resolvePlacementPolicyType(t.Type)," "),e.xp6(2),e.Q6J("ngForOf",i.description.placementPolicies),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(4,c))("ngModel",t.DomainName)}}function ge(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2,"No items to display"),e.qZA()())}function fe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index;return e.oxw().$implicit.Scheme=a.toString()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t," ")}}function Ce(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,fe,2,1,"button",55),e.qZA()),2&n){const t=o.first;e.xp6(1),e.Q6J("ngIf",!t)}}function he(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",51)(3,"button",52),e._uU(4),e.qZA(),e.TgZ(5,"div",53),e.YNc(6,Ce,2,1,"span",33),e.qZA()()(),e.TgZ(7,"td")(8,"input",58),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.ServiceName=a}),e.qZA()(),e.TgZ(9,"td")(10,"button",59),e.NdJ("click",function(){const p=e.CHM(t).index;return e.oxw(3).description.raw.CorrelationScheme.splice(p,1)}),e._uU(11,"Remove"),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(4),e.hij(" ",i.description.resolveCorrelationScheme(t.Scheme)," "),e.xp6(2),e.Q6J("ngForOf",i.description.serviceCorrelationSchemes),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(4,c))("ngModel",t.ServiceName)}}function ve(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2,"No items to display"),e.qZA()())}function xe(n,o){1&n&&(e.TgZ(0,"th"),e._uU(1,"Auxiliary"),e.qZA())}function Te(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td")(1,"input",64),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().$implicit.AuxiliaryDefaultLoad=a}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModelOptions",e.DdM(2,c))("ngModel",t.AuxiliaryDefaultLoad)}}function Se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index;return e.oxw().$implicit.Weight=a.toString()}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t," ")}}function Me(n,o){if(1&n&&(e.TgZ(0,"span"),e.YNc(1,Se,2,1,"button",55),e.qZA()),2&n){const t=o.first;e.xp6(1),e.Q6J("ngIf",!t)}}function Ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",60),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.Name=a}),e.qZA()(),e.TgZ(3,"td")(4,"input",61),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.PrimaryDefaultLoad=a}),e.qZA()(),e.TgZ(5,"td")(6,"input",62),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.SecondaryDefaultLoad=a}),e.qZA()(),e.YNc(7,Te,2,3,"td",24),e.TgZ(8,"td")(9,"div",51)(10,"button",63),e._uU(11),e.qZA(),e.TgZ(12,"div",53),e.YNc(13,Me,2,1,"span",33),e.qZA()()(),e.TgZ(14,"td")(15,"button",59),e.NdJ("click",function(){const p=e.CHM(t).index;return e.oxw(3).description.raw.ServiceLoadMetrics.splice(p,1)}),e._uU(16,"Remove"),e.qZA()()()}if(2&n){const t=o.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("ngModelOptions",e.DdM(9,c))("ngModel",t.Name),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(10,c))("ngModel",t.PrimaryDefaultLoad),e.xp6(2),e.Q6J("ngModelOptions",e.DdM(11,c))("ngModel",t.SecondaryDefaultLoad),e.xp6(1),e.Q6J("ngIf",i.description.raw.AuxiliaryReplicaCount>0),e.xp6(4),e.hij(" ",i.description.resolveLoadMetricWeight(t.Weight)," "),e.xp6(2),e.Q6J("ngForOf",i.description.serviceLoadMetricWeights)}}function ye(n,o){1&n&&(e.TgZ(0,"tr")(1,"td",65),e._uU(2,"No items to display"),e.qZA()())}function we(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-collapse-container",20)(1,"h4",21),e._uU(2),e.qZA(),e.TgZ(3,"div",22)(4,"dl",5)(5,"dt"),e._uU(6,"Service Dns Name"),e.qZA(),e.TgZ(7,"dd")(8,"input",23),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).description.raw.ServiceDnsName=a}),e.qZA()(),e.YNc(9,k,2,0,"dt",24),e.YNc(10,E,2,3,"dd",24),e.YNc(11,F,2,0,"dt",24),e.YNc(12,B,2,3,"dd",24),e.YNc(13,H,2,0,"dt",24),e.YNc(14,R,2,3,"dd",24),e.YNc(15,L,2,0,"dt",24),e.YNc(16,z,2,3,"dd",24),e.YNc(17,j,2,0,"dt",24),e.YNc(18,K,2,3,"dd",24),e.YNc(19,$,2,0,"dt",25),e.YNc(20,W,2,3,"dd",24),e.YNc(21,V,2,0,"dt",26),e.YNc(22,X,2,3,"dd",24),e.YNc(23,G,2,0,"dt",27),e.YNc(24,ee,2,3,"dd",24),e.TgZ(25,"dt"),e._uU(26,"Placement Constraints"),e.qZA(),e.TgZ(27,"dd")(28,"input",28),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).description.raw.PlacementConstraints=a}),e.qZA()(),e.TgZ(29,"dt"),e._uU(30,"Partition Scheme"),e.qZA(),e.TgZ(31,"dd")(32,"div",8),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw(2).description.raw.PartitionDescription.PartitionScheme=a}),e.YNc(33,te,3,2,"label",9),e.qZA(),e.TgZ(34,"dl",29),e.YNc(35,ne,2,0,"dt",24),e.YNc(36,ie,2,3,"dd",24),e.YNc(37,oe,2,0,"dt",24),e.YNc(38,ae,2,3,"dd",24),e.YNc(39,pe,2,0,"dt",24),e.YNc(40,re,2,3,"dd",24),e.YNc(41,ce,2,0,"dt",24),e.YNc(42,de,13,2,"dd",24),e.qZA()(),e.TgZ(43,"dt"),e._uU(44,"Placement Policies"),e.qZA(),e.TgZ(45,"dd")(46,"div",30)(47,"table",31)(48,"thead")(49,"tr")(50,"th"),e._uU(51,"Type"),e.qZA(),e.TgZ(52,"th"),e._uU(53,"Domain Name"),e.qZA(),e.TgZ(54,"th")(55,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).description.addPlacementPolicy()}),e._uU(56," Add "),e.qZA()()()(),e.TgZ(57,"tbody"),e.YNc(58,me,12,5,"tr",33),e.YNc(59,ge,3,0,"tr",24),e.qZA()()()(),e.TgZ(60,"dt"),e._uU(61,"Service Correlations"),e.qZA(),e.TgZ(62,"dd")(63,"div",30)(64,"table",31)(65,"thead")(66,"tr")(67,"th"),e._uU(68,"Scheme"),e.qZA(),e.TgZ(69,"th"),e._uU(70,"Service Name"),e.qZA(),e.TgZ(71,"th")(72,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).description.addServiceCorrelation()}),e._uU(73,"Add"),e.qZA()()()(),e.TgZ(74,"tbody"),e.YNc(75,he,12,5,"tr",33),e.YNc(76,ve,3,0,"tr",24),e.qZA()()()(),e.TgZ(77,"dt"),e._uU(78,"Load Metrics"),e.qZA(),e.TgZ(79,"dd")(80,"div",30)(81,"table",31)(82,"thead")(83,"tr")(84,"th"),e._uU(85,"Name"),e.qZA(),e.TgZ(86,"th"),e._uU(87,"Primary"),e.qZA(),e.TgZ(88,"th"),e._uU(89,"Secondary"),e.qZA(),e.YNc(90,xe,2,0,"th",24),e.TgZ(91,"th"),e._uU(92,"Weight"),e.qZA(),e.TgZ(93,"th")(94,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).description.addLoadMetric()}),e._uU(95,"Add"),e.qZA()()()(),e.TgZ(96,"tbody"),e.YNc(97,Ze,17,12,"tr",33),e.YNc(98,ye,3,0,"tr",24),e.qZA()()()()()()()}if(2&n){const t=e.oxw(2);e.Q6J("collapsed",t.description.isAdvancedOptionCollapsed),e.xp6(2),e.hij("",t.description.isAdvancedOptionCollapsed?"Show":"Hide"," Advanced Options"),e.xp6(6),e.Q6J("ngModelOptions",e.DdM(40,c))("ngModel",t.description.raw.ServiceDnsName),e.xp6(1),e.Q6J("ngIf",!t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",!t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful&&t.serviceType.raw.ServiceTypeDescription.HasPersistedState),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful&&t.serviceType.raw.ServiceTypeDescription.HasPersistedState),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(1),e.Q6J("ngIf",t.serviceType.raw.ServiceTypeDescription.IsStateful),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(41,c))("ngModel",t.description.raw.PlacementConstraints),e.xp6(4),e.Q6J("ngModel",t.description.raw.PartitionDescription.PartitionScheme)("ngModelOptions",e.DdM(42,c)),e.xp6(1),e.Q6J("ngForOf",t.description.servicePartitionKinds),e.xp6(2),e.Q6J("ngIf","1"!==t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","1"!==t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","2"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","2"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","2"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","2"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","3"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(1),e.Q6J("ngIf","3"===t.description.raw.PartitionDescription.PartitionScheme),e.xp6(16),e.Q6J("ngForOf",t.description.raw.ServicePlacementPolicies),e.xp6(1),e.Q6J("ngIf",0===t.description.raw.ServicePlacementPolicies.length),e.xp6(16),e.Q6J("ngForOf",t.description.raw.CorrelationScheme),e.xp6(1),e.Q6J("ngIf",0===t.description.raw.CorrelationScheme.length),e.xp6(14),e.Q6J("ngIf",t.description.raw.AuxiliaryReplicaCount>0),e.xp6(7),e.Q6J("ngForOf",t.description.raw.ServiceLoadMetrics),e.xp6(1),e.Q6J("ngIf",0===t.description.raw.ServiceLoadMetrics.length)}}function Ae(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",1)(1,"div",2)(2,"h4",3),e._uU(3,"Create Service"),e.qZA()(),e.TgZ(4,"div",4)(5,"dl",5)(6,"dt"),e._uU(7,"Service Kind"),e.qZA(),e.TgZ(8,"dd"),e._uU(9),e.qZA(),e.TgZ(10,"dt"),e._uU(11,"Service Type Name"),e.qZA(),e.TgZ(12,"dd"),e._uU(13),e.qZA(),e.TgZ(14,"dt"),e._uU(15,"Application Name"),e.qZA(),e.TgZ(16,"dd"),e._uU(17),e.qZA(),e.TgZ(18,"dt"),e._uU(19,"Service Name"),e.qZA(),e.TgZ(20,"dd")(21,"input",6),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().description.raw.ServiceName=a}),e.qZA()(),e.TgZ(22,"dt",7),e._uU(23,"Service Package Activation Mode"),e.qZA(),e.TgZ(24,"dd")(25,"div",8),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().description.raw.ServicePackageActivationMode=a}),e.YNc(26,Y,3,2,"label",9),e.qZA()(),e.TgZ(27,"dt"),e._uU(28,"Initialization Data"),e.qZA(),e.TgZ(29,"dd")(30,"input",10),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().description.initializationData=a}),e.qZA()(),e.TgZ(31,"dt"),e._uU(32," Create From Template "),e.qZA(),e.TgZ(33,"dd",11)(34,"input",12),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().description.createFromTemplate=a})("ngModelChange",function(){return e.CHM(t),e.oxw().description.isAdvancedOptionCollapsed=!0}),e.qZA()()(),e.YNc(35,we,99,43,"app-collapse-container",13),e.qZA(),e.TgZ(36,"div",14)(37,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().description.reset()}),e._uU(38,"Reset"),e.qZA(),e.TgZ(39,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(40,"Create"),e.qZA(),e.TgZ(41,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().cancel()}),e._uU(42,"Cancel"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(9),e.hij(" ",t.serviceType.serviceKind," "),e.xp6(4),e.hij(" ",t.description.raw.ServiceTypeName," "),e.xp6(4),e.hij(" ",t.description.raw.ApplicationName," "),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(14,c))("ngModel",t.description.raw.ServiceName),e.xp6(4),e.Q6J("ngModel",t.description.raw.ServicePackageActivationMode)("ngModelOptions",e.DdM(15,c)),e.xp6(1),e.Q6J("ngForOf",t.description.servicePackageActivationModes),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(16,c))("ngModel",t.description.initializationData),e.xp6(4),e.Q6J("ngModelOptions",e.DdM(17,c))("ngModel",t.description.createFromTemplate)("ngModelOptions",e.DdM(18,c)),e.xp6(1),e.Q6J("ngIf",!t.description.createFromTemplate)}}let Ne=(()=>{class n{constructor(t,i,a){this.dialogRef=t,this.data=i,this.dataService=a}ngOnInit(){this.serviceType=this.data.data,this.description=new O.cj(this.serviceType,this.serviceType.parent)}create(){this.serviceType.createService(this.description).subscribe(()=>{this.description&&(this.description.reset(),this.dialogRef.close())})}cancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.so),e.Y36(A.WI),e.Y36(_.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-service"]],decls:1,vars:1,consts:[["name","createServiceForm","class","action-modal",4,"ngIf"],["name","createServiceForm",1,"action-modal"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body",2,"max-height","550px"],[1,"dl-horizontal"],["type","text","autocomplete","off","name","ServiceName","title","Service name must start with application name","required","","ng-pattern","description.serviceNamePattern","aria-label","Service Name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["title","Service Package Activation Mode"],["ngbRadioGroup","","name","radioBasic",1,"btn-group","btn-group-toggle",3,"ngModel","ngModelOptions","ngModelChange"],["class"," flat-button checkbox-push solid-grey","ngbButtonLabel","",4,"ngFor","ngForOf"],["type","text","autocomplete","off","placeholder","Hexadecimal string with even length, e.g. 13A013FF","title","Hexadecimal string with even length, e.g. 13A013FF","aria-label","Initialization Data","pattern","/^([0-9a-fA-F][0-9a-fA-F])+$/",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],[1,"checkbox-container-default"],["type","checkbox",2,"float","left","width","auto",3,"ngModelOptions","ngModel","ngModelChange"],[3,"collapsed",4,"ngIf"],[1,"modal-footer"],["title","Reset dialog with default settings",1,"flat-button",3,"click"],["type","submit",1,"solid-button","blue",3,"click"],["type","button",1,"flat-button",3,"click"],["ngbButtonLabel","",1,"flat-button","checkbox-push","solid-grey"],["ngbButton","","type","radio",3,"value"],[3,"collapsed"],["collapse-header",""],["collapse-body",""],["type","text","autocomplete","off","aria-label","Service Dns Name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],[4,"ngIf"],["title","Replica Restart Wait Duration",4,"ngIf"],["title","Quorum Loss Wait Duration",4,"ngIf"],["title","Stand By Replica Keep Duration",4,"ngIf"],["type","text","autocomplete","off","aria-label","Placement Constraints",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],[1,"dl-horizontal","short"],[1,"table-responsive"],[1,"table"],[1,"simple-button",3,"click"],[4,"ngFor","ngForOf"],["type","number","autocomplete","off","aria-label","Instance Count","pattern","^(?:-1|[1-9]\\d*)$","integer","",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","readonly","readonly","aria-label","Has Persisted State",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","name","MinReplicaSetSize","aria-label","Min Replica Set Size","min","1","aria-valuemin","1","integer","",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","aria-label","Target Replica Set Size","min","1","aria-valuemin","1","integer","",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","aria-label","Auxiliary Replica Count","min","0","aria-valuemin","0","integer","",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["title","Replica Restart Wait Duration"],["type","number","autocomplete","off","placeholder","Duration in seconds","aria-label","Replica Restart Wait Duration","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["title","Quorum Loss Wait Duration"],["type","number","autocomplete","off","placeholder","Duration in seconds","aria-label","Quorum Loss Wait Duration","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["title","Stand By Replica Keep Duration"],["type","number","autocomplete","off","placeholder","Duration in seconds","aria-label","Stand By Replica Keep Duration","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","required","","aria-label","Count","min","1","aria-valuemin","1",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","autocomplete","off","required","","aria-label","Low Key",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","autocomplete","off","required","","aria-label","High Key",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["role","button",1,"flat-button",3,"click"],["type","text","autocomplete","off","required","","aria-label","Name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["colspan","2"],["ngbDropdown","","container","body"],["ngbDropdownToggle","",1,"simple-button"],["ngbDropdownMenu",""],["type","text","autocomplete","off","required","","aria-label","Domain name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["ngbDropdownItem","",3,"click",4,"ngIf"],["ngbDropdownItem","",3,"click"],["colspan","3"],["type","text","autocomplete","off","required","","aria-label","Service name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],[1,"flat-button",3,"click"],["type","text","autocomplete","off","required","","aria-label","Metric name",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","required","","aria-label","Primary default load","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["type","number","autocomplete","off","required","","aria-label","Secondary default load","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["ngbDropdownToggle","","aria-label","Select a weight",1,"simple-button"],["type","number","autocomplete","off","required","","aria-label","Auxiliary default load","min","0","aria-valuemin","0",1,"input-flat",3,"ngModelOptions","ngModel","ngModelChange"],["colspan","5"]],template:function(t,i){1&t&&e.YNc(0,Ae,43,19,"form",0),2&t&&e.Q6J("ngIf",i.description)},directives:[g.O5,d._Y,d.JL,d.F,d.Fj,d.Q7,d.JJ,d.On,u.py,g.sg,u.mL,u.aB,d.c5,d.Wl,N.P,d.wV,d.qQ,u.jt,u.iD,u.Vi,u.TH],styles:["dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{width:160px;display:inline-block;vertical-align:top;font-weight:400}dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{width:calc(100% - 160px);display:inline-block;margin-left:0}dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.solid-grey[_ngcontent-%COMP%]{border-radius:0!important;border-color:#fff!important;background-color:gray;border-width:2px;font-size:unset;line-height:unset}.solid-grey[_ngcontent-%COMP%]:hover{color:#fff}.active[_ngcontent-%COMP%]{background-color:#0075c9!important;border-width:2px}"]}),n})(),be=(()=>{class n{constructor(t){this.data=t}createService(){new h.VJ(this.data.dialog,"","","",this.item,Ne,()=>!0).run()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-action-row"]],decls:2,vars:0,consts:[[1,"simple-button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.createService()}),e._uU(1," Create\n"),e.qZA())},styles:[""]}),n})();class De extends s.NL{constructor(){super("actions","Actions",{enableFilter:!1}),this.template=be}}var T=r(2970),C=r(2944),S=r(4333),b=r(4034),Ie=r(7895),Je=r(8628),Pe=r(9196),D=r(1271),Qe=r(8952),M=r(8833);function Ue(n,o){if(1&n&&(e.TgZ(0,"a",9),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("routerLink",null==t.app?null:t.app.appTypeViewPath),e.xp6(1),e.hij(" ",null==t.app?null:t.app.raw.TypeName," ")}}function qe(n,o){if(1&n&&e._UZ(0,"app-status-resolver",10),2&n){const t=e.oxw(2);e.Q6J("status",t.app.raw.Status)}}function Oe(n,o){if(1&n&&(e.TgZ(0,"app-essential-health-tile",6),e.YNc(1,Ue,2,2,"ng-template",7),e.YNc(2,qe,1,1,"ng-template",8),e.qZA()),2&n){const t=e.oxw();e.Q6J("healthState",null==t.app?null:t.app.healthState)("listItems",t.essentialItems)}}function Ye(n,o){if(1&n&&e._UZ(0,"app-dashboard-tile",11),2&n){const t=e.oxw();e.Q6J("data",t.servicesDashboard)}}function ke(n,o){if(1&n&&e._UZ(0,"app-dashboard-tile",11),2&n){const t=e.oxw();e.Q6J("data",t.partitionsDashboard)}}function Ee(n,o){if(1&n&&e._UZ(0,"app-dashboard-tile",11),2&n){const t=e.oxw();e.Q6J("data",t.replicasDashboard)}}function Fe(n,o){1&n&&(e.TgZ(0,"h4"),e._uU(1,"Upgrade In Progress"),e.qZA())}function Be(n,o){1&n&&(e.TgZ(0,"h4"),e._uU(1,"Latest Upgrade State"),e.qZA())}function He(n,o){if(1&n&&(e.TgZ(0,"div",12)(1,"app-collapse-container",13)(2,"div",14),e.YNc(3,Fe,2,0,"h4",15),e.YNc(4,Be,2,0,"h4",15),e.qZA(),e.TgZ(5,"div",16),e._UZ(6,"app-upgrade-info",17),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("sectionName",t.app.isUpgrading?"Upgrade In Progress":"Latest Upgrade State"),e.xp6(2),e.Q6J("ngIf",t.upgradeProgress.isUpgrading),e.xp6(1),e.Q6J("ngIf",!t.upgradeProgress.isUpgrading),e.xp6(2),e.Q6J("upgradeProgress",t.upgradeProgress)}}function Re(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"app-collapse-container",19)(2,"h4",14),e._uU(3,"Upgrade Parameters"),e.qZA(),e.TgZ(4,"div",20),e._UZ(5,"app-detail-view-part",11),e.qZA()()()),2&n){const t=e.oxw();e.xp6(5),e.Q6J("data",t.upgradeProgress.upgradeDescription)}}function Le(n,o){if(1&n&&(e.TgZ(0,"div",21)(1,"app-collapse-container",22)(2,"div",14)(3,"h4"),e._uU(4,"Health Evaluations"),e.qZA()(),e.TgZ(5,"div",16),e._UZ(6,"app-health-viewer",23),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("healthyEvaluations",t.app.health.healthEvents)("unhealthyEvaluations",t.app.health.unhealthyEvaluations)}}function ze(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"app-collapse-container",24)(2,"div",14)(3,"h4"),e._uU(4,"Services"),e.qZA()(),e.TgZ(5,"div",16),e._UZ(6,"app-detail-list",25),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("list",t.app.services.collection)("listSettings",t.listSettings)}}function je(n,o){if(1&n&&(e.TgZ(0,"div",18)(1,"app-collapse-container",26)(2,"div",14)(3,"h4"),e._uU(4,"Service Types"),e.qZA()(),e.TgZ(5,"div",16),e._UZ(6,"app-detail-list",27),e.qZA()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("list",t.app.serviceTypes.collection)("listSettings",t.serviceTypesListSettings)}}let Ke=(()=>{class n extends m{constructor(t,i,a){super(t,i),this.data=t,this.settings=a,this.essentialItems=[]}setup(){this.listSettings=this.settings.getNewOrExistingListSettings("services",["name"],[new s.a7("name","Name",t=>t.viewPath),new s.NL("raw.TypeName","Service Type"),new s.NL("raw.ManifestVersion","Version"),new s.v0("raw.ServiceKind","Service Kind"),new s.Gp("healthState","Health State"),new s.v0("raw.ServiceStatus","Status")]),this.serviceTypesListSettings=this.settings.getNewOrExistingListSettings("serviceTypes",["raw.ServiceTypeDescription.ServiceTypeName"],[new s.NL("raw.ServiceTypeDescription.ServiceTypeName","Service Type Name"),new s.v0("serviceKind","Service Kind"),new s.NL("raw.ServiceManifestVersion","Service Manifest Version"),new De]),this.upgradeProgressUnhealthyEvaluationsListSettings=this.settings.getNewOrExistingUnhealthyEvaluationsListSettings("upgradeProgressUnhealthyEvaluations"),this.essentialItems=[]}refresh(t){return this.data.clusterManifest.ensureInitialized().subscribe(()=>{this.data.clusterManifest.isBackupRestoreEnabled&&this.data.refreshBackupPolicies(t)}),this.essentialItems=[{descriptionName:"Application Type",displayText:this.app.raw.TypeName,copyTextValue:this.app.raw.TypeName,selectorName:"typename",displaySelector:!0},{descriptionName:"Version",displayText:this.app.raw.TypeVersion,copyTextValue:this.app.raw.TypeVersion},{descriptionName:"Status",displayText:this.app.raw.Status,copyTextValue:this.app.raw.Status,selectorName:"status",displaySelector:!0}],(0,q.D)([this.app.upgradeProgress.refresh(t).pipe((0,f.U)(i=>{this.upgradeProgress=i})),this.app.serviceTypes.refresh(t),this.app.services.refresh(t),this.app.health.refresh(t).pipe((0,f.U)(i=>{const a=C.wk.getHealthStateCount(i.raw,C.NP.Service);this.servicesDashboard=T.D.fromHealthStateCount("Services","Service",!1,a);const p=C.wk.getHealthStateCount(i.raw,C.NP.Partition);this.partitionsDashboard=T.D.fromHealthStateCount("Partitions","Partition",!1,p);const l=C.wk.getHealthStateCount(i.raw,C.NP.Replica);this.replicasDashboard=T.D.fromHealthStateCount("Replicas","Replica",!1,l)}))])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3),e.Y36(S.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-essentials"]],features:[e.qOj],decls:10,vars:9,consts:[[1,"tile-container"],["class","long",3,"healthState","listItems",4,"ngIf"],[3,"data",4,"ngIf"],["data-cy","upgradeDetails","class","detail-pane essen-pane",4,"ngIf"],["class","detail-pane essen-pane",4,"ngIf"],["class","detail-pane essen-pane","data-cy","health",4,"ngIf"],[1,"long",3,"healthState","listItems"],["appEssentialTemplate","","id","typename"],["appEssentialTemplate","","id","status"],["title","app?.raw.TypeName",3,"routerLink"],[3,"status"],[3,"data"],["data-cy","upgradeDetails",1,"detail-pane","essen-pane"],[3,"sectionName"],["collapse-header",""],[4,"ngIf"],["collapse-body",""],[3,"upgradeProgress"],[1,"detail-pane","essen-pane"],["sectionName","Upgrade Description","collapsed","true"],["collapse-body","",1,"detail-pane"],["data-cy","health",1,"detail-pane","essen-pane"],["sectionName","Unhealthy Evaluations"],[3,"healthyEvaluations","unhealthyEvaluations"],["sectionName","Services"],["data-cy","services",3,"list","listSettings"],["sectionName","Service Types"],["data-cy","serviceTypes",3,"list","listSettings"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Oe,3,2,"app-essential-health-tile",1),e.YNc(2,Ye,1,1,"app-dashboard-tile",2),e.YNc(3,ke,1,1,"app-dashboard-tile",2),e.YNc(4,Ee,1,1,"app-dashboard-tile",2),e.qZA(),e.YNc(5,He,7,4,"div",3),e.YNc(6,Re,6,1,"div",4),e.YNc(7,Le,7,2,"div",5),e.YNc(8,ze,7,2,"div",4),e.YNc(9,je,7,2,"div",4)),2&t&&(e.xp6(1),e.Q6J("ngIf",i.app&&i.app.isInitialized),e.xp6(1),e.Q6J("ngIf",i.servicesDashboard),e.xp6(1),e.Q6J("ngIf",i.partitionsDashboard),e.xp6(1),e.Q6J("ngIf",i.replicasDashboard),e.xp6(1),e.Q6J("ngIf",i.upgradeProgress&&i.upgradeProgress.isInitialized),e.xp6(1),e.Q6J("ngIf",null==i.upgradeProgress?null:i.upgradeProgress.upgradeDescription),e.xp6(1),e.Q6J("ngIf",i.app&&i.app.health),e.xp6(1),e.Q6J("ngIf",i.app&&i.app.services),e.xp6(1),e.Q6J("ngIf",i.app&&i.app.serviceTypes))},directives:[g.O5,b.Q,b.W,v.yS,Ie.u,Je.L,N.P,Pe.Y,D.d,Qe.f,M.m],styles:[""]}),n})(),$e=(()=>{class n extends m{constructor(t,i){super(t,i),this.data=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-details"]],features:[e.qOj],decls:2,vars:1,consts:[[1,"detail-pane","essen-pane"],[3,"data"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-detail-view-part",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("data",i.app))},directives:[D.d],styles:[""]}),n})(),We=(()=>{class n extends m{constructor(t,i,a){super(t,i),this.data=t,this.settings=a,this.deployedApplicationsHealthStates=[]}setup(){this.deployedApplicationsHealthStatesListSettings=this.settings.getNewOrExistingListSettings("deployedApps",["raw.NodeName"],[new s.a7("raw.NodeName","Node Name",t=>t.viewPath),new s.Gp("healthState","Health State")])}refresh(t){return this.app.health.refresh(t).pipe((0,f.U)(()=>{this.deployedApplicationsHealthStates=this.app.health.deployedApplicationHealthStates}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3),e.Y36(S.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-deployments"]],features:[e.qOj],decls:2,vars:2,consts:[[1,"detail-pane","essen-pane"],[3,"list","listSettings"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-detail-list",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("list",i.deployedApplicationsHealthStates)("listSettings",i.deployedApplicationsHealthStatesListSettings))},directives:[M.m],styles:[""]}),n})();var Ve=r(3347);function Xe(n,o){if(1&n&&e._UZ(0,"app-manifest-viewer",2),2&n){const t=e.oxw(2);e.Q6J("manifestName",t.app.name)("manifest",t.app.manifest.raw.Manifest)}}function Ge(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Xe,1,2,"app-manifest-viewer",1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.app.manifest.raw)}}let et=(()=>{class n extends m{constructor(t,i){super(t,i),this.data=t}refresh(t){return this.app.manifest.refresh(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manifest"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"manifestName","manifest",4,"ngIf"],[3,"manifestName","manifest"]],template:function(t,i){1&t&&e.YNc(0,Ge,2,1,"div",0),2&t&&e.Q6J("ngIf",i.app&&i.app.manifest)},directives:[g.O5,Ve.p],styles:[""]}),n})();var tt=r(5893);let nt=(()=>{class n extends m{constructor(t,i){super(t,i),this.data=t}setup(){this.listEventStoreData=[this.data.getApplicationEventData(this.appId)],this.optionsConfig={enableCluster:!0,enableNodes:!0,enableRepairTasks:!0}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-events"]],features:[e.qOj],decls:2,vars:2,consts:[[3,"listEventStoreData","optionsConfig"]],template:function(t,i){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-event-store",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("listEventStoreData",i.listEventStoreData)("optionsConfig",i.optionsConfig))},directives:[tt.h],styles:[""]}),n})();var it=r(7506),I=r(1709),ot=r(7654),at=r(8592),pt=r(9079),rt=r(2999);function ct(n,o){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"app-action-collection-drop-down",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("actionCollection",t.actions)}}function st(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"h4"),e._uU(2,"Application Backup Configuration"),e.qZA(),e._UZ(3,"app-detail-list",5),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("list",t.app.applicationBackupConfigurationInfoCollection.collection)("listSettings",t.applicationBackupConfigurationInfoListSettings)}}const lt=[{path:"",component:U,children:[{path:"",component:Ke},{path:"details",component:$e},{path:"deployments",component:We},{path:"manifest",component:et},{path:"events",component:nt},{path:"backup",component:(()=>{class n extends m{constructor(t,i,a,p){super(t,i),this.data=t,this.settings=a,this.telemetry=p}setup(){this.applicationBackupConfigurationInfoListSettings=this.settings.getNewOrExistingListSettings("backupConfigurationInfoCollection",["raw.PolicyName"],[new s.NL("raw.PolicyName","Policy Name",{enableFilter:!1,getDisplayHtml:(t,i)=>`<span class="link">${i}</span>`,clickEvent:t=>t.action.run()}),new s.NL("raw.Kind","Kind"),new s.NL("raw.PolicyInheritedFrom","Policy Inherited From"),new s.NL("raw.ServiceName","Service Name"),new s.NL("raw.PartitionId","Partition Id"),new s.NL("raw.SuspensionInfo.IsSuspended","Is Suspended"),new s.NL("raw.SuspensionInfo.SuspensionInheritedFrom","Suspension Inherited From")])}refresh(t){return this.data.actionsEnabled()&&this.setUpActions(),this.app.applicationBackupConfigurationInfoCollection.refresh(t)}setUpActions(){this.actions||(this.actions=new it.w(this.telemetry),this.actions.add(new h.VJ(this.data.dialog,"enableApplicationBackup","Enable/Update Application Backup","Enabling Application Backup",{enable:t=>this.data.restClient.enableApplicationBackup(this.app,t).pipe((0,I.zg)(()=>this.app.applicationBackupConfigurationInfoCollection.refresh())),data:this},at.y,()=>!0)),this.actions.add(new h.VJ(this.data.dialog,"disableApplicationBackup","Disable Application Backup","Disabling Application Backup",{enable:t=>this.data.restClient.disableApplicationBackup(this.app,t).pipe((0,I.zg)(()=>this.app.applicationBackupConfigurationInfoCollection.refresh())),data:this},ot.U,()=>this.app.applicationBackupConfigurationInfoCollection.collection.length&&this.app.applicationBackupConfigurationInfoCollection.collection[0].raw&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.Kind&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.PolicyInheritedFrom)),this.actions.add(new h.et(this.data.dialog,"suspendApplicationBackup","Suspend Application Backup","Suspending...",()=>this.data.restClient.suspendApplicationBackup(this.app.id).pipe((0,f.U)(()=>{this.app.applicationBackupConfigurationInfoCollection.refresh()})),()=>this.app.applicationBackupConfigurationInfoCollection.collection.length&&this.app.applicationBackupConfigurationInfoCollection.collection[0].raw&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.Kind&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.PolicyInheritedFrom&&!1===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.SuspensionInfo.IsSuspended,"Confirm Application Backup Suspension",`Suspend application backup for ${this.app.name} ?`,this.app.name)),this.actions.add(new h.et(this.data.dialog,"resumeApplicationBackup","Resume Application Backup","Resuming...",()=>this.data.restClient.resumeApplicationBackup(this.app.id).pipe((0,f.U)(()=>{this.app.applicationBackupConfigurationInfoCollection.refresh()})),()=>this.app.applicationBackupConfigurationInfoCollection.collection.length&&this.app.applicationBackupConfigurationInfoCollection.collection[0].raw&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.Kind&&"Application"===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.PolicyInheritedFrom&&!0===this.app.applicationBackupConfigurationInfoCollection.collection[0].raw.SuspensionInfo.IsSuspended,"Confirm Application Backup Resumption",`Resume application backup for ${this.app.name} ?`,this.app.name)))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.D),e.Y36(e.zs3),e.Y36(S.g),e.Y36(pt.y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backup"]],features:[e.qOj],decls:2,vars:2,consts:[["style","height: 50px;",4,"ngIf"],["class","detail-pane essen-pane",4,"ngIf"],[2,"height","50px"],["displayText","Backup Actions",2,"float","right",3,"actionCollection"],[1,"detail-pane","essen-pane"],[3,"list","listSettings"]],template:function(t,i){1&t&&(e.YNc(0,ct,2,1,"div",0),e.YNc(1,st,4,2,"div",1)),2&t&&(e.Q6J("ngIf",i.actions),e.xp6(1),e.Q6J("ngIf",i.app))},directives:[g.O5,rt.b,M.m],styles:[""]}),n})()}]}];let dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(lt)],v.Bz]}),n})();var _t=r(4466),ut=r(6461),mt=r(3308),gt=r(1926),ft=r(7883),Ct=r(1901);let ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,dt,_t.m,ut.Q,mt.e,d.u5,u.ZS,u.XC,u.xZ,gt.m,ft.m,Ct.c]]}),n})()}}]);