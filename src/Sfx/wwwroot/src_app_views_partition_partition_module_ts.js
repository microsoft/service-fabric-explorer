"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_partition_partition_module_ts"],{4385:(te,I,s)=>{s.r(I),s.d(I,{PartitionModule:()=>$t});var l=s(9808),T=s(5467),U=s(4850),v=s(4286),J=s(2165),t=s(5e3),u=s(7559);let f=(()=>{class i extends J.J{constructor(e,a){super(a),this.data=e}common(e){return this.data.getPartition(this.appId,this.serviceId,this.partitionId,!0,e).pipe((0,U.U)(a=>{this.partition=a}))}getParams(e){this.appTypeName=v.a.getAppTypeName(e),this.appId=v.a.getAppId(e),this.serviceId=v.a.getServiceId(e),this.partitionId=v.a.getPartitionId(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3))},i.\u0275dir=t.lG2({type:i,features:[t.qOj]}),i})();var d=s(5237),Q=s(1086),m=s(5053),O=s(2261),M=s(8118);let L=(()=>{class i extends f{constructor(e,a,o){super(e,a),this.dataService=e,this.tree=o,this.tabs=[{name:"essentials",route:"./"},{name:"details",route:"./details"}]}setup(){this.dataService.clusterManifest.ensureInitialized().subscribe(()=>{this.data.clusterManifest.isEventStoreEnabled&&-1===this.tabs.indexOf(m.gT.EventsTab)&&(this.tabs=this.tabs.concat(m.gT.EventsTab)),this.dataService.clusterManifest.isBackupRestoreEnabled&&!this.tabs.some(e=>"backups"===e.name)&&(this.tabs=this.tabs.concat({name:"backups",route:"./backups"}))}),this.appTypeName===m.gT.SystemAppTypeName?this.tree.selectTreeNode([d.R.cluster(),d.R.systemAppGroup(),d.R.service(this.serviceId),d.R.partition(this.partitionId)]):this.tree.selectTreeNode([d.R.cluster(),d.R.appGroup(),d.R.appType(this.appTypeName),d.R.app(this.appId),d.R.service(this.serviceId),d.R.partition(this.partitionId)],!0)}refresh(e){return(this.partition.isStatelessService||"System"===this.partition.parent.parent.raw.TypeName)&&(this.tabs=this.tabs.filter(a=>"backups"!==a.name)),this.data.clusterManifest.ensureInitialized().subscribe(()=>{this.data.clusterManifest.isBackupRestoreEnabled||(this.tabs=this.tabs.filter(a=>"backups"!==a.name))}),(0,Q.of)(null)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3),t.Y36(O.r))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-base"]],features:[t.qOj],decls:4,vars:3,consts:[["type","Partition",3,"tabs","name","actions"],[1,"main-view"],[1,"flex-child"]],template:function(e,a){1&e&&(t._UZ(0,"app-navbar",0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"router-outlet"),t.qZA()()),2&e&&t.Q6J("tabs",a.tabs)("name",a.partitionId)("actions",null==a.partition?null:a.partition.actions)},directives:[M.S,T.lC],styles:[""]}),i})();var c=s(6174),k=s(567),_=s(4333),S=s(4034),B=s(7895),E=s(8855),Y=s(8523),y=s(8285),q=s(8952),F=s(2055),b=s(2654);function V(i,n){if(1&i&&t._UZ(0,"app-essential-item",11),2&i){const a=n.last;t.Q6J("item",n.$implicit)("underline",a)}}function z(i,n){if(1&i&&t._UZ(0,"app-essential-item",11),2&i){const a=n.last;t.Q6J("item",n.$implicit)("underline",a)}}const H=function(i){return{"expanded-tall":i}};function K(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"app-replica-tile",12),t.NdJ("showReplicationChange",function(o){const g=t.CHM(e).$implicit;return t.oxw(2).expandedDict[g.name]=o}),t.qZA()}if(2&i){const e=n.$implicit,a=t.oxw(2);t.Q6J("ngClass",t.VKq(5,H,a.expandedDict[e.name]))("showReplication",a.expandedDict[e.name])("replica",e)("replicator",a.replicaDict[e.name])("replicatorHistory",a.cachedData[e.name])}}function j(i,n){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2)(2,"h4",3),t._uU(3,"Primary Replica Queue Status"),t.qZA(),t.YNc(4,V,1,2,"app-essential-item",4),t.TgZ(5,"app-collapse-container",5)(6,"div",6),t._uU(7," Replicator Status "),t.qZA(),t.TgZ(8,"div",7),t.YNc(9,z,1,2,"app-essential-item",4),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9),t.YNc(12,K,1,7,"app-replica-tile",10),t.qZA()()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.overviewItems),t.xp6(5),t.Q6J("ngForOf",e.replicationStatus),t.xp6(3),t.Q6J("ngForOf",e.sortedReplicas)}}const G=(i,n)=>(i[n.ReplicaId]=n,i);let Z=(()=>{class i{constructor(){this.sortedReplicas=[],this.replicaDict={},this.expandedDict={},this.cachedData={},this.overviewItems=[],this.replicationStatus=[],this.sub=new b.w}ngOnChanges(){this.replicas.forEach(e=>{"Primary"===e.raw.ReplicaRole&&(this.primaryReplica=e)}),this.primaryReplica&&this.sub.add(this.primaryReplica.detail.refresh().subscribe(()=>{const e=F.c.getFriendlyFileSize(+this.primaryReplica.detail.raw.ReplicatorStatus.ReplicationQueueStatus.QueueMemorySize),a=this.primaryReplica.detail.raw.ReplicatorStatus;this.replicaDict=a.RemoteReplicators.reduce(G,{}),a.RemoteReplicators.forEach(r=>{const g=Object.assign(Object.assign({},r),{date:new Date});this.cachedData[r.ReplicaId]||(this.cachedData[r.ReplicaId]=[]),this.cachedData[r.ReplicaId].length>20&&this.cachedData[r.ReplicaId].shift(),this.cachedData[r.ReplicaId].push(g)}),this.sortedReplicas=this.replicas.sort((r,g)=>r.replicaRoleSortPriority-g.replicaRoleSortPriority);const o=this.primaryReplica.detail.replicatorStatus.raw.ReplicationQueueStatus;this.overviewItems=[{descriptionName:"Queue Utilization Percentage",copyTextValue:o.QueueUtilizationPercentage,displayText:o.QueueUtilizationPercentage+"%"},{descriptionName:"Queue Memory Size",copyTextValue:e,displayText:e}],this.replicationStatus=[{descriptionName:"Last Sequence Number(LSN) ",copyTextValue:o.LastSequenceNumber,displayText:o.LastSequenceNumber},{descriptionName:"Completed Sequence Number",copyTextValue:o.CompletedSequenceNumber,displayText:o.CompletedSequenceNumber},{descriptionName:"Committed Sequence Number",copyTextValue:o.CommittedSequenceNumber,displayText:o.CommittedSequenceNumber}]}))}ngOnDestroy(){this.sub.unsubscribe()}trackByFn(e,a){return a.ReplicaId+e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-replica-status-container"]],inputs:{replicas:"replicas"},features:[t.TTD],decls:1,vars:1,consts:[["class","overview-container",4,"ngIf"],[1,"overview-container"],["data-cy","essentials",1,"essen-pane",2,"width","330px"],[1,"underline-title"],[3,"item","underline",4,"ngFor","ngForOf"],["collapsed","true"],["collapse-header",""],["collapse-body",""],[2,"flex","auto","margin-left","20px"],[1,"replica-container"],["class","replica-tile tall",3,"ngClass","showReplication","replica","replicator","replicatorHistory","showReplicationChange",4,"ngFor","ngForOf"],[3,"item","underline"],[1,"replica-tile","tall",3,"ngClass","showReplication","replica","replicator","replicatorHistory","showReplicationChange"]],template:function(e,a){1&e&&t.YNc(0,j,13,3,"div",0),2&e&&t.Q6J("ngIf",a.primaryReplica&&a.primaryReplica.detail.raw)},styles:[".cell-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}.replica-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,125px);grid-gap:10px;grid-auto-rows:90px}.replica-tile[_ngcontent-%COMP%]{grid-column:span 2;grid-row:span 2}.expanded-tall[_ngcontent-%COMP%]{grid-row:span 4;grid-column:span 4}.long[_ngcontent-%COMP%]{grid-column:span 2}.overview-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:start;align-content:flex-start;margin-bottom:20px}"]}),i})();var N=s(8833);function X(i,n){if(1&i&&t._UZ(0,"app-status-resolver",13),2&i){const e=t.oxw(3);t.Q6J("status",e.partition.raw.PartitionStatus)}}function $(i,n){if(1&i&&(t.TgZ(0,"app-essential-health-tile",11),t.YNc(1,X,1,1,"ng-template",12),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("healthState",null==e.partition?null:e.partition.healthState)("listItems",e.essentialItems)}}function W(i,n){if(1&i&&(t.TgZ(0,"app-tile-wrapper"),t._UZ(1,"app-state-info",14),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("stateful",!e.partition.isStatelessService)("data",e.partition.raw)}}function tt(i,n){if(1&i&&(t.TgZ(0,"div")(1,"app-collapse-container",15)(2,"div",5)(3,"h4"),t._uU(4,"Replicator Status"),t.qZA()(),t.TgZ(5,"div",6)(6,"div"),t._UZ(7,"app-replica-status-container",16),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(7),t.Q6J("replicas",e.partition.replicas.collection)}}function et(i,n){if(1&i&&t._UZ(0,"app-detail-list",17),2&i){const e=t.oxw(2);t.Q6J("list",e.partition.replicas.collection)("listSettings",e.listSettings)}}function it(i,n){if(1&i&&(t.TgZ(0,"div")(1,"div",1),t.YNc(2,$,2,2,"app-essential-health-tile",2),t.YNc(3,W,2,2,"app-tile-wrapper",0),t.qZA(),t.TgZ(4,"div",3)(5,"app-collapse-container",4)(6,"div",5)(7,"h4"),t._uU(8,"Health Evaluations"),t.qZA()(),t.TgZ(9,"div",6),t._UZ(10,"app-health-viewer",7),t.qZA()()(),t.YNc(11,tt,8,1,"div",0),t.TgZ(12,"div",8)(13,"app-collapse-container",9)(14,"div",5)(15,"h4"),t._uU(16),t.qZA()(),t.TgZ(17,"div",6),t.YNc(18,et,1,2,"app-detail-list",10),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.partition&&e.partition.isInitialized),t.xp6(1),t.Q6J("ngIf",null==e.partition?null:e.partition.raw),t.xp6(7),t.Q6J("healthyEvaluations",e.partition.health.healthEvents)("unhealthyEvaluations",e.partition.health.unhealthyEvaluations),t.xp6(1),t.Q6J("ngIf",e.partition.isStatefulService),t.xp6(2),t.Q6J("sectionName",e.partition.isStatelessService?"Instances":"Replicas"),t.xp6(3),t.Oqu(e.partition.isStatelessService?"Instances":"Replicas"),t.xp6(2),t.Q6J("ngIf",e.partition.replicas.isInitialized)}}let at=(()=>{class i extends f{constructor(e,a,o){super(e,a),this.data=e,this.settings=o,this.hideReplicator=!0,this.essentialItems=[]}setup(){this.setEssentialData()}refresh(e){if(this.setEssentialData(),!this.listSettings){let a=["replicaRoleSortPriority","raw.NodeName"];const o=[new c.a7("id","Id",r=>r.viewPath),new c.NL("raw.NodeName","Node Name"),new c.v0("role","Replica Role",{sortPropertyPaths:a}),new c.Gp("healthState","Health State"),new c.v0("raw.ReplicaStatus","Status")];this.partition.isStatelessService&&(o.splice(2,1),a=["raw.NodeName"]),this.listSettings=this.settings.getNewOrExistingListSettings("replicas",a,o)}return(0,k.D)([this.partition.health.refresh(e),this.partition.replicas.refresh(e)])}setEssentialData(){var e;this.essentialItems=[],(null===(e=null==this?void 0:this.partition)||void 0===e?void 0:e.partitionInformation.isInitialized)&&(this.essentialItems=[{descriptionName:"Status",displayText:this.partition.raw.PartitionStatus,copyTextValue:this.partition.raw.PartitionStatus,selectorName:"status",displaySelector:!0},{descriptionName:"Partition Kind",displayText:this.partition.partitionInformation.raw.ServicePartitionKind,copyTextValue:this.partition.partitionInformation.raw.ServicePartitionKind}],this.partition.isStatefulService&&(this.partition.partitionInformation.isPartitionKindInt64Range&&(this.essentialItems.push({descriptionName:"High Key",displayText:this.partition.partitionInformation.raw.HighKey,copyTextValue:this.partition.partitionInformation.raw.HighKey}),this.essentialItems.push({descriptionName:"Low Key",displayText:this.partition.partitionInformation.raw.LowKey,copyTextValue:this.partition.partitionInformation.raw.LowKey})),this.partition.partitionInformation.isPartitionKindNamed&&this.essentialItems.push({descriptionName:"Name",displayText:this.partition.partitionInformation.raw.Name,copyTextValue:this.partition.partitionInformation.raw.Name})))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3),t.Y36(_.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-essentials"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"tile-container"],["class","long",3,"healthState","listItems",4,"ngIf"],["data-cy","health",1,"detail-pane","essen-pane"],["sectionName","Unhealthy Evaluations"],["collapse-header",""],["collapse-body",""],[3,"healthyEvaluations","unhealthyEvaluations"],["data-cy","replicas",1,"detail-pane","essen-pane"],[3,"sectionName"],[3,"list","listSettings",4,"ngIf"],[1,"long",3,"healthState","listItems"],["appEssentialTemplate","","id","status"],[3,"status"],[3,"stateful","data"],["sectionName","Replicator Status","data-cy","replicator"],[3,"replicas"],[3,"list","listSettings"]],template:function(e,a){1&e&&t.YNc(0,it,19,8,"div",0),2&e&&t.Q6J("ngIf",a.partition)},directives:[l.O5,S.Q,S.W,B.u,E.B,Y.H,y.P,q.f,Z,N.m],styles:[".cell-wrapper[_ngcontent-%COMP%]{margin-bottom:10px}"]}),i})();var w=s(1271);function nt(i,n){if(1&i&&(t.TgZ(0,"div",1)(1,"h4"),t._uU(2,"Load Information"),t.qZA(),t._UZ(3,"app-detail-view-part",4),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("data",e.partition.loadInformation.raw)("parent",e.partition.loadInformation)}}function ot(i,n){if(1&i&&(t.TgZ(0,"div")(1,"div",1),t._UZ(2,"app-detail-view-part",2),t.qZA(),t.YNc(3,nt,4,2,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("data",e.partition),t.xp6(1),t.Q6J("ngIf",e.partition.loadInformation&&e.partition.loadInformation.isValid)}}let st=(()=>{class i extends f{constructor(e,a,o){super(e,a),this.data=e,this.settings=o}setup(){}refresh(e){return(0,k.D)([this.partition.loadInformation.refresh(e),this.partition.health.refresh(e),this.partition.replicas.refresh(e)])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3),t.Y36(_.g))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"detail-pane","essen-pane"],[3,"data"],["class","detail-pane essen-pane",4,"ngIf"],[3,"data","parent"]],template:function(e,a){1&e&&t.YNc(0,ot,4,2,"div",0),2&e&&t.Q6J("ngIf",a.partition)},directives:[l.O5,w.d],styles:[""]}),i})();var rt=s(7506),h=s(1136),C=s(1709),pt=s(7654),lt=s(8592),p=s(3075),x=s(8966),P=s(2896);let ct=(()=>{class i{constructor(e,a,o,r){this.formBuilder=e,this.data=a,this.partition=o,this.dialogRef=r}ngOnInit(){this.form=this.formBuilder.group({BackupTimeout:["",[p.kI.required]]})}ok(){""===this.form.value.Storage.StorageKind&&(this.form.value.Storage=null),this.data.restClient.triggerPartitionBackup(this.partition.data,this.form.value.BackupTimeout,this.form.value.Storage).subscribe(()=>{this.cancel()},e=>console.log(e))}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.qu),t.Y36(u.D),t.Y36(x.WI),t.Y36(x.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-partition-trigger-back-up"]],decls:16,vars:4,consts:[[1,"action-modal",3,"formGroup"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"dl-horizontal"],["type","number","formControlName","BackupTimeout",1,"input-flat"],[3,"form","required"],[1,"modal-footer"],["type","submit",1,"solid-button","blue",3,"disabled","click"],["type","button",1,"flat-button",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h4",2),t._uU(3,"Trigger Partition Backup"),t.qZA()(),t.TgZ(4,"div",3)(5,"dl",4)(6,"dt"),t._uU(7,"BackupTimeout"),t.qZA(),t.TgZ(8,"dd"),t._UZ(9,"input",5),t.qZA()(),t._UZ(10,"app-storage-form",6),t.qZA(),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){return a.ok()}),t._uU(13,"Trigger Partition Backup"),t.qZA(),t.TgZ(14,"button",9),t.NdJ("click",function(){return a.cancel()}),t._uU(15,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("formGroup",a.form),t.xp6(10),t.Q6J("form",a.form)("required",!1),t.xp6(2),t.Q6J("disabled",a.form.invalid))},directives:[p._Y,p.JL,p.sg,p.wV,p.Fj,p.JJ,p.u,P.a],styles:[""]}),i})(),dt=(()=>{class i{constructor(e,a,o,r){this.formBuilder=e,this.data=a,this.partition=o,this.dialogRef=r}ngOnInit(){this.form=this.formBuilder.group({BackupId:["",[p.kI.required]],BackupLocation:["",[p.kI.required]],RestoreTimeout:[""]})}ok(){""===this.form.value.Storage.StorageKind&&(this.form.value.Storage=null);const e=this.form.value;this.data.restClient.restorePartitionBackup(this.partition.data.id,e.Storage,e.RestoreTimeout,e.BackupId,e.BackupLocation).subscribe(()=>{this.cancel()},a=>console.log(a))}cancel(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.qu),t.Y36(u.D),t.Y36(x.WI),t.Y36(x.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-partition-restore-back-up"]],decls:24,vars:4,consts:[[1,"action-modal",3,"formGroup"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"dl-horizontal"],["type","text","formControlName","BackupId",1,"input-flat"],["type","text","formControlName","BackupLocation",1,"input-flat"],["type","number","formControlName","RestoreTimeout",1,"input-flat"],[3,"form","required"],[1,"modal-footer"],["type","submit",1,"solid-button","blue",3,"disabled","click"],["type","button",1,"flat-button",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h4",2),t._uU(3,"Restore Partition Backup"),t.qZA()(),t.TgZ(4,"div",3)(5,"dl",4)(6,"dt"),t._uU(7,"BackupId"),t.qZA(),t.TgZ(8,"dd"),t._UZ(9,"input",5),t.qZA(),t.TgZ(10,"dt"),t._uU(11,"BackupLocation"),t.qZA(),t.TgZ(12,"dd"),t._UZ(13,"input",6),t.qZA(),t.TgZ(14,"dt"),t._uU(15,"RestoreTimeout"),t.qZA(),t.TgZ(16,"dd"),t._UZ(17,"input",7),t.qZA()(),t._UZ(18,"app-storage-form",8),t.qZA(),t.TgZ(19,"div",9)(20,"button",10),t.NdJ("click",function(){return a.ok()}),t._uU(21,"Restore Partition Backup"),t.qZA(),t.TgZ(22,"button",11),t.NdJ("click",function(){return a.cancel()}),t._uU(23,"Cancel"),t.qZA()()()),2&e&&(t.Q6J("formGroup",a.form),t.xp6(18),t.Q6J("form",a.form)("required",!1),t.xp6(2),t.Q6J("disabled",a.form.invalid))},directives:[p._Y,p.JL,p.sg,p.Fj,p.JJ,p.u,p.wV,P.a],styles:[""]}),i})();var ut=s(9079),mt=s(2999),ht=s(8055);function ft(i,n){if(1&i&&(t.TgZ(0,"div",2),t._UZ(1,"app-action-collection-drop-down",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("actionCollection",e.actions)}}function gt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"h4"),t._uU(2,"Latest Backup"),t.qZA(),t._UZ(3,"app-detail-view-part",6),t.TgZ(4,"div",7)(5,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).restore()}),t._uU(6,"Restore"),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("data",e.partition.partitionBackupInfo.latestPartitionBackup.collection[0])}}function vt(i,n){if(1&i&&(t.TgZ(0,"div",5)(1,"h4"),t._uU(2,"Partition Backup Progress"),t.qZA(),t._UZ(3,"app-detail-view-part",6),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("data",e.partition.partitionBackupInfo.partitionBackupProgress)}}function Ct(i,n){if(1&i&&(t.TgZ(0,"div",5)(1,"h4"),t._uU(2,"Partition Restore Progress"),t.qZA(),t._UZ(3,"app-detail-view-part",6),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("data",e.partition.partitionBackupInfo.partitionRestoreProgress)}}function xt(i,n){if(1&i&&(t.TgZ(0,"div")(1,"div",5)(2,"h4"),t._uU(3,"Partition Backup Configuration"),t.qZA(),t._UZ(4,"app-detail-view-part",6),t.qZA(),t.YNc(5,vt,4,1,"div",4),t.YNc(6,Ct,4,1,"div",4),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("data",e.partition.partitionBackupInfo.partitionBackupConfigurationInfo),t.xp6(1),t.Q6J("ngIf",e.partition.partitionBackupInfo.partitionBackupProgress.isInitialized&&e.partition.partitionBackupInfo.partitionBackupProgress.raw.TimeStampUtc),t.xp6(1),t.Q6J("ngIf",e.partition.partitionBackupInfo.partitionRestoreProgress.isInitialized&&e.partition.partitionBackupInfo.partitionRestoreProgress.raw.TimeStampUtc)}}function Tt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"app-detail-list",9)(2,"app-dual-date-picker",10),t.NdJ("dateChanged",function(o){return t.CHM(e),t.oxw(2).setNewDates(o)}),t.TgZ(3,"div",11)(4,"input",12),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).startTime=o})("change",function(){return t.CHM(e),t.oxw(2).startTimeChange()}),t.qZA()(),t.TgZ(5,"div",13)(6,"input",12),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(2).endTime=o})("change",function(){return t.CHM(e),t.oxw(2).endTimeChange()}),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("list",e.backupList)("listSettings",e.partitionBackupListSettings),t.xp6(1),t.Q6J("minDate",e.minDate)("maxDate",e.maxDate)("currentStartDate",e.startDate)("currentEndDate",e.endDate),t.xp6(2),t.Q6J("ngModel",e.startTime),t.xp6(2),t.Q6J("ngModel",e.endTime)}}function _t(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,gt,7,1,"div",4),t.YNc(2,xt,7,3,"div",1),t.YNc(3,Tt,7,8,"div",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.partition.partitionBackupInfo.latestPartitionBackup.collection.length>0),t.xp6(1),t.Q6J("ngIf",e.partition&&e.partition.partitionBackupInfo),t.xp6(1),t.Q6J("ngIf",e.partition)}}let yt=(()=>{class i extends f{constructor(e,a,o,r){super(e,a),this.data=e,this.settings=o,this.telemetry=r,this.startDate=new Date,this.endDate=new Date,this.minDate=new Date,this.maxDate=new Date}setup(){this.partitionBackupListSettings=this.settings.getNewOrExistingListSettings("partitionBackups",[null],[new c.NL("raw.BackupId","BackupId",{enableFilter:!1,getDisplayHtml:(e,a)=>`<span class="link">${a}</span>`,clickEvent:e=>e.action.run()}),new c.NL("raw.BackupType","BackupType"),new c.NL("raw.EpochOfLastBackupRecord.DataLossVersion","Data Loss Version"),new c.NL("raw.EpochOfLastBackupRecord.ConfigurationVersion","Configuration Version"),new c.NL("raw.LsnOfLastBackupRecord","Lsn of last Backup Record"),new c.NL("raw.CreationTimeUtc","Creation Time UTC")]),this.dateRefresh=!0,this.maxDate.setDate(this.endDate.getDate()+30),this.minDate.setDate(this.startDate.getDate()-30)}startTimeChange(){const e=this.startTime.split(":");this.startDate.setUTCHours(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),0),this.setNewPartitionBackupList(this.startDate,this.endDate)}endTimeChange(){const e=this.endTime.split(":");this.endDate.setUTCHours(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),0),this.setNewPartitionBackupList(this.startDate,this.endDate)}setNewPartitionBackupList(e,a){this.backupList=this.partition.partitionBackupInfo.partitionBackupList.collection,this.backupList=this.backupList.filter(o=>new Date(o.raw.CreationTimeUtc)>=e&&new Date(o.raw.CreationTimeUtc)<=a)}restore(){let e;e=this.partition.partitionBackupInfo.latestPartitionBackup.collection[0].raw,this.data.restClient.restorePartitionBackup(e.PartitionInformation.Id,null,null,this.partition.partitionBackupInfo.latestPartitionBackup.collection[0].raw.BackupId,this.partition.partitionBackupInfo.latestPartitionBackup.collection[0].raw.BackupLocation).subscribe(()=>{},a=>console.log(a))}refresh(e){if(this.data.actionsEnabled()&&this.attemptSetActions(),this.dateRefresh&&(this.backupList=this.partition.partitionBackupInfo.partitionBackupList.collection,0!==this.backupList.length)){const a=this.backupList.sort((o,r)=>o.CreationTimeUtc<r.CreationTimeUtc?-1:o.CreationTimeUtc>r.CreationTimeUtc?1:0);this.startDate=new Date(a[0].raw.CreationTimeUtc),this.endDate=new Date(a[a.length-1].raw.CreationTimeUtc),this.maxDate.setDate(this.endDate.getDate()+30),this.minDate.setDate(this.startDate.getDate()-30),this.startTime=a[0].raw.CreationTimeUtc.split("T")[1].split("Z")[0],this.endTime=a[a.length-1].raw.CreationTimeUtc.split("T")[1].split("Z")[0],this.dateRefresh=!1}try{this.subscriptions.add(this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.refresh(e).subscribe())}catch(a){}try{this.subscriptions.add(this.data.backupPolicies.refresh(e).subscribe())}catch(a){}try{this.subscriptions.add(this.partition.partitionBackupInfo.partitionBackupProgress.refresh(e).subscribe())}catch(a){}try{this.subscriptions.add(this.partition.partitionBackupInfo.partitionRestoreProgress.refresh(e).subscribe())}catch(a){}try{this.subscriptions.add(this.partition.partitionBackupInfo.latestPartitionBackup.refresh(e).subscribe())}catch(a){}return this.partition.partitionBackupInfo.partitionBackupList.refresh(e)}setNewDates(e){this.startDate=e.startDate,this.endDate=e.endDate,this.setNewPartitionBackupList(this.startDate,this.endDate)}attemptSetActions(){this.actions||(this.actions=new rt.w(this.telemetry),this.actions.add(new h.VJ(this.data.dialog,"enablePartitionBackup","Enable/Update Partition Backup","Enabling Partition Backup",{enable:e=>this.data.restClient.enablePartitionBackup(this.partition,e).pipe((0,C.zg)(()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.refresh())),data:this},lt.y,()=>!0)),this.actions.add(new h.VJ(this.data.dialog,"disablePartitionBackup","Disable Partition Backup","Disabling Partition Backup",{enable:e=>this.data.restClient.disablePartitionBackup(this.partition,e).pipe((0,C.zg)(()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.refresh())),data:this},pt.U,()=>!0)),this.actions.add(new h.et(this.data.dialog,"suspendPartitionBackup","Suspend Partition Backup","Suspending...",()=>this.data.restClient.suspendPartitionBackup(this.partition.id).pipe((0,C.zg)(()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.refresh())),()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw&&"Partition"===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.Kind&&"Partition"===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.PolicyInheritedFrom&&!1===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.SuspensionInfo.IsSuspended,"Confirm Partition Backup Suspension",`Suspend partition backup for ${this.partition.name} ?`,this.partition.name)),this.actions.add(new h.et(this.data.dialog,"resumePartitionBackup","Resume Partition Backup","Resuming...",()=>this.data.restClient.resumePartitionBackup(this.partition.id).pipe((0,C.zg)(()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.refresh())),()=>this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw&&"Partition"===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.Kind&&"Partition"===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.PolicyInheritedFrom&&!0===this.partition.partitionBackupInfo.partitionBackupConfigurationInfo.raw.SuspensionInfo.IsSuspended,"Confirm Partition Backup Resumption",`Resume partition backup for ${this.partition.name} ?`,this.partition.name)),this.actions.add(new h.VJ(this.data.dialog,"triggerPartitionBackup","Trigger Partition Backup","Triggering Partition Backup",this.partition,ct,()=>!0)),this.actions.add(new h.VJ(this.data.dialog,"restorePartitionBackup","Restore Partition Backup","Restoring Partition Backup",this.partition,dt,()=>!0)))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3),t.Y36(_.g),t.Y36(ut.y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-backups"]],features:[t.qOj],decls:2,vars:2,consts:[["style","height: 40px;",4,"ngIf"],[4,"ngIf"],[2,"height","40px"],["displayText","Backup Actions",2,"float","right",3,"actionCollection"],["class","detail-pane essen-pane",4,"ngIf"],[1,"detail-pane","essen-pane"],[3,"data"],[1,"text-right"],[1,"solid-button",3,"click"],[3,"list","listSettings"],[3,"minDate","maxDate","currentStartDate","currentEndDate","dateChanged"],["startTime",""],["type","time","placeholder","HH:mm:ss","ng-model-options","{ timezone: 'UTC' }",1,"input-flat","clear-disabled",3,"ngModel","ngModelChange","change"],["toTime",""]],template:function(e,a){1&e&&(t.YNc(0,ft,2,1,"div",0),t.YNc(1,_t,4,3,"div",1)),2&e&&(t.Q6J("ngIf",a.actions),t.xp6(1),t.Q6J("ngIf",a.partition))},directives:[l.O5,mt.b,w.d,N.m,ht.B,p.Fj,p.JJ,p.On],styles:[""]}),i})();var wt=s(8131);const Rt=[{path:"",component:L,children:[{path:"",component:at},{path:"details",component:st},{path:"backups",component:yt},{path:"events",component:(()=>{class i extends f{constructor(e,a){super(e,a),this.data=e}setup(){this.listEventStoreData=[this.data.getPartitionEventData(this.partitionId)]}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.D),t.Y36(t.zs3))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-events"]],features:[t.qOj],decls:2,vars:1,consts:[[3,"listEventStoreData"]],template:function(e,a){1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-event-store",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("listEventStoreData",a.listEventStoreData))},directives:[wt.h],styles:[""]}),i})()}]}];let It=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[T.Bz.forChild(Rt)],T.Bz]}),i})();var D=s(4466),kt=s(6461),St=s(3308),Bt=s(9049),bt=s(7498),Zt=s(7191),R=s(9342),Nt=s(3174),Pt=s(3470),Dt=s(1715),At=s(5597);const Jt=["chart"];let Qt=(()=>{class i{constructor(){this.showUTC=!1,this.fontColor={color:"#fff"},this.sub=new b.w}ngOnInit(){this.sub.add((0,Dt.F)(1e3).subscribe(()=>this.setData()))}ngOnDestroy(){this.sub.unsubscribe(),this.chart&&this.chart.destroy()}ngAfterViewInit(){this.chart=(0,Pt.chart)(this.chartContainer.nativeElement,{chart:{backgroundColor:null,type:"area"},title:{text:""},credits:{enabled:!1},xAxis:{title:{style:this.fontColor},lineColor:"#fff",labels:{style:this.fontColor}},yAxis:{title:{text:"LSN / Sec",style:this.fontColor},lineColor:"#fff",labels:{style:this.fontColor}},legend:{enabled:!1},tooltip:{hideDelay:0,outside:!0,shared:!0},plotOptions:{series:{animation:!1,lineWidth:1,shadow:!1,states:{hover:{lineWidth:1}},marker:{radius:1,states:{hover:{radius:2}}}},column:{negativeColor:"#910000",borderColor:"silver"}},series:[{type:"area",data:[],color:"#0075c9"}]}),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},50)}ngOnChanges(){this.setData()}setData(){if(this.data&&this.data.length>1){const e=function Ut(i){return i.map((n,e)=>{if(e>0){const a=i[e-1],o=(n.date.getTime()-a.date.getTime())/1e3;return{delta:(+n.LastAppliedReplicationSequenceNumber-+a.LastAppliedReplicationSequenceNumber)/o,date:n.date}}return{delta:0,date:n.date}}).splice(1)}(this.data);if(this.chart){this.chart.series[0].setData(e.map(o=>o.delta));const a=new Date;a.setMilliseconds(0),this.chart.xAxis[0].setCategories(e.map(o=>{if(this.showUTC)return o.date.toUTCString();{o.date.setMilliseconds(0);const r=a.getTime()-o.date.getTime();return At.I.getDuration(r)+" ago"}})),window.dispatchEvent(new Event("resize"))}}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-replication-trend-line"]],viewQuery:function(e,a){if(1&e&&t.Gf(Jt,5),2&e){let o;t.iGM(o=t.CRH())&&(a.chartContainer=o.first)}},inputs:{data:"data",fullScreen:"fullScreen",showUTC:"showUTC"},features:[t.TTD],decls:2,vars:0,consts:[[2,"height","100%","min-height","100%","min-width","100%"],["chart",""]],template:function(e,a){1&e&&t._UZ(0,"div",0,1)},styles:[".highcharts-container[_ngcontent-%COMP%], .highcharts-root[_ngcontent-%COMP%]{width:100%!important}"]}),i})();function Ot(i,n){if(1&i&&t._UZ(0,"app-essential-item",10),2&i){const a=n.last;t.Q6J("item",n.$implicit)("underline",a)}}function Mt(i,n){if(1&i&&t._UZ(0,"app-essential-item",10),2&i){const a=n.last;t.Q6J("item",n.$implicit)("underline",a)}}function Lt(i,n){if(1&i&&t._UZ(0,"app-essential-item",10),2&i){const a=n.last;t.Q6J("item",n.$implicit)("underline",a)}}let Et=(()=>{class i{constructor(){this.copyItems=[],this.replicationItems=[],this.lastItems=[],this.copy=!1}ngOnChanges(){const e=this.replicator.RemoteReplicatorAcknowledgementStatus.CopyStreamAcknowledgementDetail,a=this.replicator.RemoteReplicatorAcknowledgementStatus.ReplicationStreamAcknowledgementDetail;this.replicationItems=[{descriptionName:"Average Receive Duration",copyTextValue:a.AverageReceiveDuration,displayText:a.AverageReceiveDuration},{descriptionName:"Average Apply Duration",copyTextValue:a.AverageApplyDuration,displayText:a.AverageApplyDuration},{descriptionName:"Not Received Count",copyTextValue:a.NotReceivedCount,displayText:a.NotReceivedCount},{descriptionName:"Received And Not Applied",copyTextValue:a.ReceivedAndNotAppliedCount,displayText:a.ReceivedAndNotAppliedCount}],this.copyItems=[{descriptionName:"Average Receive Duration",copyTextValue:e.AverageReceiveDuration,displayText:e.AverageReceiveDuration},{descriptionName:"Average Apply Duration",copyTextValue:e.AverageApplyDuration,displayText:e.AverageApplyDuration},{descriptionName:"Not Received Count",copyTextValue:e.NotReceivedCount,displayText:e.NotReceivedCount},{descriptionName:"Received And Not Applied",copyTextValue:e.ReceivedAndNotAppliedCount,displayText:e.ReceivedAndNotAppliedCount},{descriptionName:"Last Received CSN",copyTextValue:this.replicator.LastReceivedCopySequenceNumber,displayText:this.replicator.LastReceivedCopySequenceNumber},{descriptionName:"Last Applied CSN",copyTextValue:this.replicator.LastAppliedCopySequenceNumber,displayText:this.replicator.LastAppliedCopySequenceNumber}],this.lastItems=[{descriptionName:"Last Received LSN ",copyTextValue:this.replicator.LastReceivedReplicationSequenceNumber,displayText:this.replicator.LastReceivedReplicationSequenceNumber},{descriptionName:"Last Applied LSN ",copyTextValue:this.replicator.LastAppliedReplicationSequenceNumber,displayText:this.replicator.LastAppliedReplicationSequenceNumber}]}handleCollapseChange(e){this.copy=!e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-replica-status"]],inputs:{replicator:"replicator"},features:[t.TTD],decls:18,vars:5,consts:[[1,"flex-column",2,"justify-content","space-between","height","100%"],[2,"flex","1","min-height","0px","display","flex","flex-direction","column"],[1,"underline",2,"min-height","0px","overflow","auto"],["sectionName","Copy",3,"collapsed","collapsedChange"],["collapse-header","",1,"center-text"],["collapse-body",""],[3,"item","underline",4,"ngFor","ngForOf"],["sectionName","Replication",1,"underline",3,"collapsed","collapsedChange"],["collapsed","false","data-cy","current-state"],[1,"underline-title"],[3,"item","underline"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-collapse-container",3),t.NdJ("collapsedChange",function(r){return!(a.copy=r)})("collapsedChange",function(r){return a.handleCollapseChange(r)}),t.TgZ(4,"div",4),t._uU(5," Copy "),t.qZA(),t.TgZ(6,"div",5),t.YNc(7,Ot,1,2,"app-essential-item",6),t.qZA()()(),t.TgZ(8,"app-collapse-container",7),t.NdJ("collapsedChange",function(r){return a.copy=r}),t.TgZ(9,"div",4),t._uU(10," Replication "),t.qZA(),t.TgZ(11,"div",5),t.YNc(12,Mt,1,2,"app-essential-item",6),t.qZA()()(),t.TgZ(13,"div",8)(14,"h4",9),t._uU(15,"Current State"),t.qZA(),t.TgZ(16,"div",5),t.YNc(17,Lt,1,2,"app-essential-item",6),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("collapsed",!a.copy),t.xp6(4),t.Q6J("ngForOf",a.copyItems),t.xp6(1),t.Q6J("collapsed",a.copy),t.xp6(4),t.Q6J("ngForOf",a.replicationItems),t.xp6(5),t.Q6J("ngForOf",a.lastItems))},directives:[y.P,l.sg,R._],styles:[".row-container[_ngcontent-%COMP%]{border-bottom:solid 2px white;border-top:solid 2px white}.replica-container[_ngcontent-%COMP%]{width:320px;display:inline-block;padding:10px;margin:5px;min-height:250px}.green-border[_ngcontent-%COMP%]{border-left:8px solid green}.blue-border[_ngcontent-%COMP%]{border-left:8px solid #0075c9;background-color:#202c34}.yellow[_ngcontent-%COMP%]{border-left:8px solid yellow}.field[_ngcontent-%COMP%]{color:#c9c9c9}"]}),i})();function Yt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeReplication()}),t._UZ(1,"span",15),t._uU(2),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",e.showReplication?"Close":"View"," Replication")}}function qt(i,n){1&i&&t._UZ(0,"app-essential-item",10),2&i&&t.Q6J("item",n.$implicit)("underline",!1)}const Ft=function(i){return{fullscreen:i}};function Vt(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"h4",17),t._uU(2,"LSN's Replicated Per Second "),t.TgZ(3,"span",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeFullScreen()}),t.qZA()(),t.TgZ(4,"div",19)(5,"div",20),t._uU(6," (This information is only recorded on this tab and is cleared when left) "),t.qZA(),t.TgZ(7,"div",21),t._uU(8," UTC "),t.TgZ(9,"app-toggle",22),t.NdJ("stateChange",function(o){return t.CHM(e),t.oxw().showUTC=o}),t.qZA()()(),t.TgZ(10,"div",23),t._UZ(11,"app-replication-trend-line",24),t.qZA()()}if(2&i){const e=t.oxw();t.Q6J("ngClass",t.VKq(8,Ft,e.fullScreen)),t.xp6(3),t.Gre("link ",e.fullScreen?"mif-shrink":"mif-enlarge",""),t.xp6(6),t.Q6J("state",e.showUTC),t.xp6(2),t.Q6J("data",e.replicatorHistory)("showUTC",e.showUTC)("fullScreen",e.fullScreen)}}function zt(i,n){if(1&i&&(t.TgZ(0,"div",25),t._UZ(1,"app-replica-status",26),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("replicator",e.replicator)}}const Ht=function(i){return{"max-width":i}};let Kt=(()=>{class i{constructor(){this.showReplication=!1,this.showReplicationChange=new t.vpe,this.overviewItems=[],this.leftBannerColor="",this.fullScreen=!1,this.copyText="",this.showUTC=!1}ngOnChanges(){this.copyText=JSON.stringify(this.replica.raw,null,4),this.overviewItems=[{descriptionName:"ID",copyTextValue:this.replica.name,displayText:this.replica.name},{descriptionName:"Role",copyTextValue:this.replica.role,displayText:this.replica.role},{descriptionName:"Node",copyTextValue:this.replica.raw.NodeName,displayText:this.replica.raw.NodeName}],this.status={descriptionName:"Status",copyTextValue:this.replica.raw.HealthState,displaySelector:!0};let e="";e=this.replica.healthState.text===m.MQ.OK?"green":this.replica.healthState.text===m.MQ.Warning?"yellow":this.replica.healthState.text===m.MQ.Error?"red":"gray",this.leftBannerColor="banner-"+e}changeReplication(){this.showReplication=!this.showReplication,this.showReplicationChange.emit(this.showReplication)}changeFullScreen(){this.fullScreen=!this.fullScreen}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-replica-tile"]],inputs:{replica:"replica",replicator:"replicator",replicatorHistory:"replicatorHistory",showReplication:"showReplication"},outputs:{showReplicationChange:"showReplicationChange"},features:[t.TTD],decls:14,vars:14,consts:[[1,"replica-container","essen-pane",3,"ngClass"],[1,"top-side"],["size","25px",3,"badgeClass"],["class","flat-button underline flex-center","style","height: 25px","data-cy","view-replication",3,"click",4,"ngIf"],[2,"float","right",3,"text"],[1,"flex-min",2,"display","flex","gap","10px"],[1,"flex-column",2,"flex","1",3,"ngStyle"],[1,"replica-header"],["data-cy","main-info",2,"width","100%"],[3,"item","underline",4,"ngFor","ngForOf"],[3,"item","underline"],[3,"status"],["class","flex-min show-replication",3,"ngClass",4,"ngIf"],["style","flex: 1;","data-cy","replicator-info",4,"ngIf"],["data-cy","view-replication",1,"flat-button","underline","flex-center",2,"height","25px",3,"click"],[1,"mif-2x","mif-arrow-drop-down","status-icon"],[1,"flex-min","show-replication",3,"ngClass"],[1,"underline-title",2,"margin","5px 5px 0px"],[2,"float","right",3,"click"],[1,"description-container"],[2,"margin","auto"],[1,"flex-column"],[3,"state","stateChange"],[1,"flex-min"],[3,"data","showUTC","fullScreen"],["data-cy","replicator-info",2,"flex","1"],[3,"replicator"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-health-badge",2),t.YNc(3,Yt,3,1,"button",3),t._UZ(4,"app-clip-board",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),t.YNc(9,qt,1,2,"app-essential-item",9),t.TgZ(10,"app-essential-item",10),t._UZ(11,"app-status-resolver",11),t.qZA()()(),t.YNc(12,Vt,12,10,"div",12),t.qZA(),t.YNc(13,zt,2,1,"div",13),t.qZA()()),2&e&&(t.Q6J("ngClass",a.leftBannerColor),t.uIk("data-cy",a.replica.id),t.xp6(2),t.Q6J("badgeClass",a.replica.healthState.badgeClass),t.xp6(1),t.Q6J("ngIf",a.replicator),t.xp6(1),t.Q6J("text",a.copyText),t.xp6(2),t.Q6J("ngStyle",t.VKq(12,Ht,a.showReplication?"calc(50% - 5px)":"100%")),t.xp6(3),t.Q6J("ngForOf",a.overviewItems),t.xp6(1),t.Q6J("item",a.status)("underline",!0),t.xp6(1),t.Q6J("status",a.replica.raw.ReplicaStatus),t.xp6(1),t.Q6J("ngIf",a.showReplication),t.xp6(1),t.Q6J("ngIf",a.showReplication))},directives:[l.mk,bt._,l.O5,Zt._,l.PC,l.sg,R._,B.u,Nt.n,Qt,Et],styles:[".row-container[_ngcontent-%COMP%]{border-bottom:solid 2px white;border-top:solid 2px white}.replica-container[_ngcontent-%COMP%]{display:inline-block;padding:5px 10px 10px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:100%;position:relative}.left-side[_ngcontent-%COMP%]{width:250px}.top-side[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center}.banner-green[_ngcontent-%COMP%]{border-left:8px solid green}.banner-blue[_ngcontent-%COMP%]{border-left:8px solid #0075c9}.banner-yellow[_ngcontent-%COMP%]{border-left:8px solid yellow}.banner-red[_ngcontent-%COMP%]{border-left:8px solid red}.field[_ngcontent-%COMP%]{color:#c9c9c9}app-replication-trend-line[_ngcontent-%COMP%]{height:100%;width:100%;padding-bottom:-10px}.description-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:0;display:-ms-flexbox;display:flex}.fullscreen[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;top:0;background-color:#262626;z-index:2;margin-bottom:0!important}.fullscreen[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]{margin:10px}.flex-min[_ngcontent-%COMP%]{-ms-flex:1;flex:1;min-height:0px}.show-replication[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin-bottom:-20px}"]}),i})();var A=s(7883);let jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,D.m,A.m]]}),i})();t.B6R(Z,[l.O5,l.sg,R._,y.P,Kt,l.mk],[]);var Gt=s(2107),Xt=s(1901);let $t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,It,D.m,kt.Q,St.e,Bt.M,p.UX,jt,p.u5,A.m,Xt.c]]}),i})();t.B6R(Gt.z,[w.d],[])}}]);