"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["default-src_app_ViewModels_DashboardViewModels_ts-src_app_modules_charts_dashboard-tile_dashb-0aa933"],{2970:(D,b,i)=>{i.d(b,{D:()=>C,Z:()=>n});var e=i(4441);class C{constructor(a,h,m=[],p,_,l){this.title=a,this.titleInSingular=h,this.dataPoints=m,this.largeTile=p,this.routes=_,this.count=0,this.acessibilityText="",this.viewPath=l,this.count=m.reduce((v,P)=>v+P.count,0),this.adjustCount(),this.acessibilityText=`${a} has ${m[0].count} in error, ${m[1].count} in warning and ${m[2].count} are healthy.`}static fromHealthStateCount(a,h,m,p,_,l){const v=[];return v.push(new n("Error",p.ErrorCount,e.H.healthStatuses[3])),v.push(new n("Warning",p.WarningCount,e.H.healthStatuses[2])),v.push(new n("Healthy",p.OkCount,e.H.healthStatuses[1])),new C(a,h,v,m,_,l)}get displayTitle(){return 1===this.count?this.titleInSingular:this.title}getDataPointTooltip(a){return`${a.title}: ${(a.count/this.count*100).toFixed(1)}%`}onClick(){this.viewPath&&this.routes&&this.routes.navigate(()=>this.viewPath)}adjustCount(){this.dataPoints.forEach(a=>{a.adjustedCount=0===a.count?0:Math.max(.02*this.count,a.count)})}}class n{constructor(a,h,m){this.title=a,this.count=h,this.state=m,this.adjustedCount=0}}},8628:(D,b,i)=>{i.d(b,{L:()=>I});var e=i(3470),n=i(5e3),t=i(9808),a=i(8555);const h=["chart"];function m(d,f){if(1&d&&(n.TgZ(0,"div",9),n._UZ(1,"div",10),n.TgZ(2,"div",11),n._uU(3),n.qZA(),n.TgZ(4,"div",12),n._uU(5),n.qZA()()),2&d){const r=f.$implicit;n.xp6(1),n.Q6J("ngClass",r.state.badgeClass),n.xp6(2),n.Oqu(r.title),n.xp6(2),n.Oqu(r.count)}}const p=function(d,f,r){return{"has-view-path":d,"dashboard-large":f,"dashboard-small":r}};function _(d,f){if(1&d&&(n.TgZ(0,"div",3)(1,"div",4)(2,"div",5),n._UZ(3,"div",null,6),n.qZA(),n.TgZ(5,"div",7),n.YNc(6,m,6,3,"div",8),n.qZA()()()),2&d){const r=n.oxw();n.xp6(1),n.Q6J("ngClass",n.kEZ(2,p,r.data.viewPath,r.data.largeTile,!r.data.largeTile)),n.xp6(5),n.Q6J("ngForOf",r.data.dataPoints)}}function l(d,f){1&d&&n.GkF(0)}function v(d,f){if(1&d&&(n.TgZ(0,"div",13),n.YNc(1,l,1,0,"ng-container",14),n.qZA()),2&d){const r=n.oxw(),x=n.MAs(1);n.uIk("aria-label",r.data.acessibilityText),n.xp6(1),n.Q6J("ngTemplateOutlet",x)}}function P(d,f){1&d&&n.GkF(0)}function T(d,f){if(1&d&&(n.TgZ(0,"a",15),n.YNc(1,P,1,0,"ng-container",14),n.qZA()),2&d){const r=n.oxw(),x=n.MAs(1);n.Q6J("routerLink",r.data.viewPath),n.uIk("aria-label",r.data.acessibilityText),n.xp6(1),n.Q6J("ngTemplateOutlet",x)}}let I=(()=>{class d{constructor(){this.fontColor={color:"#fff"},this.options={chart:{type:"pie",backgroundColor:null,borderRadius:0},title:{text:"test",align:"left",verticalAlign:"middle",y:0,x:10,style:{color:"#fff",fontSize:"15pt"}},subtitle:{text:"5",align:"left",verticalAlign:"middle",x:25,y:50,style:{color:"#fff",fontSize:"28pt"}},tooltip:{enabled:!1,animation:!1,formatter(){return`${this.point.name} : ${this.y}`}},credits:{enabled:!1},loading:{showDuration:0},plotOptions:{pie:{borderColor:"#191919",borderWidth:2,dataLabels:{enabled:!1,distance:-50,style:{fontWeight:"bold",color:"white"}},innerSize:"85%",startAngle:-50,endAngle:230}},series:[{animation:!1,type:"pie",data:[{name:"",y:1,color:"gray"}],states:{inactive:{opacity:1},hover:{opacity:1}}}]}}ngOnInit(){const x=6+(this.data.largeTile?230:150);this.options.chart.height=x,this.options.chart.width=x,this.options.title.text=this.data.displayTitle,this.options.subtitle.text=this.data.count.toString();const g=this.getDataSet();this.options.tooltip.enabled=3===g.length,this.options.series[0].data=g,this.data.largeTile||(this.options.title.style.fontSize="13pt",this.options.title.y=9,this.options.subtitle.style.fontSize="13pt",this.options.subtitle.y=30)}ngAfterViewInit(){this.chart=(0,e.chart)(this.chartContainer.nativeElement,this.options)}getDataSet(){const r={Healthy:"#7FBA00",Warning:"#FCD116",Error:"#E81123"},x=this.data.dataPoints.map(g=>({name:g.title,y:g.count,color:r[g.title]}));return x.every(g=>0===g.y)&&x.push({name:"",y:1,color:"gray"}),x}ngOnChanges(){if(this.chart){const r=this.getDataSet();this.chart.tooltip.update({enabled:3===r.length}),this.chart.series[0].setData(r),this.chart.title.update({text:this.data.displayTitle}),this.chart.subtitle.update({text:this.data.count.toString()})}}}return d.\u0275fac=function(r){return new(r||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-dashboard-tile"]],viewQuery:function(r,x){if(1&r&&n.Gf(h,5),2&r){let g;n.iGM(g=n.CRH())&&(x.chartContainer=g.first)}},inputs:{data:"data"},features:[n.TTD],decls:5,vars:2,consts:[["internal",""],["default",""],[3,"routerLink",4,"ngIf","ngIfElse"],[1,"dashboard-wrapper"],["role","group",1,"dashboard",3,"ngClass"],[1,"dashboard-donut-chart","chart-wrapper"],["chart",""],[1,"dashboard-datapoints"],["class","dashboard-datapoint",4,"ngFor","ngForOf"],[1,"dashboard-datapoint"],[1,"dashboard-datapoint-leftbar",3,"ngClass"],[1,"dashboard-datapoint-title"],[1,"dashboard-datapoint-number"],["tabindex","0",2,"height","100%"],[4,"ngTemplateOutlet"],[3,"routerLink"]],template:function(r,x){if(1&r&&(n.YNc(0,_,7,6,"ng-template",null,0,n.W1O),n.YNc(2,v,2,2,"ng-template",null,1,n.W1O),n.YNc(4,T,2,3,"a",2)),2&r){const g=n.MAs(3);n.xp6(4),n.Q6J("ngIf",x.data.viewPath)("ngIfElse",g)}},directives:[t.mk,t.sg,t.tP,t.O5,a.yS],styles:[".dashboard-container-small[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:270px}.chart-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.dashboard-wrapper[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;height:100%;width:100%}.dashboard-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--font-primary-color)!important}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]{box-shadow:var(--primary-box-shadow);border-radius:var(--primary-border-radius);color:var(--font-primary-color);padding:7px;background:var(--primary-background-color);text-align:center;height:100%;width:100%}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard.has-view-path[_ngcontent-%COMP%]{cursor:pointer}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]{display:block;position:relative;text-align:left;width:100%;height:100%}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding-left:16px!important}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar[_ngcontent-%COMP%]{width:6px;position:absolute;left:0;top:0;bottom:0}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar.badge-upgrade-active[_ngcontent-%COMP%]{background:var(--accent-darkblue)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-leftbar.badge-upgrade-inactive[_ngcontent-%COMP%]{background:var(--accent-background-color)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-title[_ngcontent-%COMP%]{display:block;font-size:11pt;line-height:.9}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard[_ngcontent-%COMP%]   .dashboard-tile[_ngcontent-%COMP%]   .dashboard-tile-inner[_ngcontent-%COMP%]   .dashboard-tile-number[_ngcontent-%COMP%]{display:block;font-size:72px;line-height:1;margin:20px 0}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]{padding:17px 7px;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]{margin:20px 5px 0;display:-ms-flexbox;display:flex;-ms-flex-pack:space-evenly;justify-content:space-evenly}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-title[_ngcontent-%COMP%]{font-size:var(--font-size-default)}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-large[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-number[_ngcontent-%COMP%]{font-size:24pt}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]{padding:7px 12px;position:relative;height:100%;width:100%;overflow:hidden}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]{margin:0 0 0 20px;float:right}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]{height:36px;padding:0 0 0 14px;margin:4px 0 8px}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-title[_ngcontent-%COMP%]{font-size:11pt}.dashboard-wrapper[_ngcontent-%COMP%]   .dashboard-small[_ngcontent-%COMP%]   .dashboard-datapoints[_ngcontent-%COMP%]   .dashboard-datapoint[_ngcontent-%COMP%]   .dashboard-datapoint-number[_ngcontent-%COMP%]{font-size:16pt;width:54px}"]}),d})()},1901:(D,b,i)=>{i.d(b,{c:()=>h});var e=i(9808),C=i(4466),n=i(322),t=i(6461),a=i(5e3);let h=(()=>{class m{}return m.\u0275fac=function(_){return new(_||m)},m.\u0275mod=a.oAB({type:m}),m.\u0275inj=a.cJS({imports:[[e.ez,C.m,n.HK,t.Q,n.Oz]]}),m})()},8952:(D,b,i)=>{i.d(b,{f:()=>m});var e=i(5e3),C=i(4333),n=i(322),t=i(8833);function a(p,_){if(1&p&&e._UZ(0,"app-detail-list",6),2&p){const l=e.oxw();e.Q6J("list",l.unhealthyEvaluations)("listSettings",l.unhealthyEvaluationsListSettings)}}function h(p,_){if(1&p&&e._UZ(0,"app-detail-list",6),2&p){const l=e.oxw();e.Q6J("list",l.healthyEvaluations)("listSettings",l.healthEventsListSettings)}}let m=(()=>{class p{constructor(l){this.settings=l}ngOnInit(){this.unhealthyEvaluationsListSettings=this.settings.getNewOrExistingUnhealthyEvaluationsListSettings(),this.healthEventsListSettings=this.settings.getNewOrExistingHealthEventsListSettings()}}return p.\u0275fac=function(l){return new(l||p)(e.Y36(C.g))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-health-viewer"]],inputs:{unhealthyEvaluations:"unhealthyEvaluations",healthyEvaluations:"healthyEvaluations"},decls:11,vars:1,consts:[["ngbNav","",1,"nav-wrapper"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"list","listSettings"]],template:function(l,v){if(1&l&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"a",3),e._uU(4,"Unhealthy"),e.qZA(),e.YNc(5,a,1,2,"ng-template",4),e.qZA(),e.TgZ(6,"div",2)(7,"a",3),e._uU(8,"All"),e.qZA(),e.YNc(9,h,1,2,"ng-template",4),e.qZA()(),e._UZ(10,"div",5)),2&l){const P=e.MAs(1);e.xp6(10),e.Q6J("ngbNavOutlet",P)}},directives:[n.Pz,n.nv,n.Vx,n.uN,t.m,n.tO],styles:[""]}),p})()},1627:(D,b,i)=>{i.d(b,{L:()=>x});var e=i(655),C=i(6174),n=i(5e3),t=i(5529),a=i(2684),h=i(1763),m=i(3240),p=i(4515);let _=(()=>{class g{constructor(c,O,w){this.dataService=c,this.restClientService=O,this.messageService=w,this.partitions={},this.partitionDataChanges=new t.xQ}checkCache(c){return c in this.partitions}ensureInitialCache(c){this.checkCache(c.SafetyCheck.PartitionId)||(this.partitions[c.SafetyCheck.PartitionId]=Object.assign({loading:"unstarted"},c))}getPartitionInfo(c,O){return(0,e.mG)(this,void 0,void 0,function*(){this.partitions[c].loading="inflight";try{const w=yield this.restClientService.getPartitionById(c).toPromise(),N=yield this.restClientService.getServiceNameInfo(c).toPromise(),E=yield this.restClientService.getApplicationNameInfo(N.Id).toPromise();let S;S="System"===E.Id?yield this.dataService.getSystemApp().toPromise():yield this.dataService.getApp(E.Id).toPromise();const L=h._.getPartitionViewPath(S.raw.TypeName,E.Id,N.Id,w.PartitionInformation.Id);this.partitions[c]=Object.assign(Object.assign({},O),{serviceName:N.Id,applicationName:E.Id,partition:w.PartitionInformation.Id,link:L,applicationLink:h._.getAppViewPath(S.raw.TypeName,E.Id),serviceLink:h._.getServiceViewPath(S.raw.TypeName,E.Id,N.Id),loading:"loaded"})}catch(w){this.messageService.showMessage("There was an issue getting partition info",a.C.Err),this.partitions[c]=Object.assign(Object.assign({},O),{loading:"failed"})}return this.partitionDataChanges.next(c),this.partitions[c]})}}return g.\u0275fac=function(c){return new(c||g)(n.LFG(m.D),n.LFG(p.j),n.LFG(a.e))},g.\u0275prov=n.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var l=i(9808);function v(g,M){if(1&g){const c=n.EpF();n.TgZ(0,"button",2),n.NdJ("click",function(){return n.CHM(c),n.oxw().load()}),n._uU(1,"Load"),n.qZA()}}function P(g,M){1&g&&(n.TgZ(0,"div",3),n._UZ(1,"span",4),n.qZA())}let T=(()=>{class g{constructor(c){this.cacheService=c}load(){this.cacheService.getPartitionInfo(this.item.SafetyCheck.PartitionId,this.item)}}return g.\u0275fac=function(c){return new(c||g)(n.Y36(_))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-load-cell"]],decls:2,vars:2,consts:[["class","simple-button",3,"click",4,"ngIf"],["class","loader",4,"ngIf"],[1,"simple-button",3,"click"],[1,"loader"],[1,"mif-spinner4","rotate"]],template:function(c,O){1&c&&(n.YNc(0,v,2,0,"button",0),n.YNc(1,P,2,0,"div",1)),2&c&&(n.Q6J("ngIf",O.item.SafetyCheck.PartitionId&&("unstarted"===O.item.loading||"failed"===O.item.loading)),n.xp6(1),n.Q6J("ngIf","inflight"===O.item.loading))},directives:[l.O5],styles:[".loader[_ngcontent-%COMP%]{width:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}"]}),g})();var I=i(2654),d=i(4333),f=i(8833);function r(g,M){1&g&&(n.TgZ(0,"div"),n._uU(1," Safety Check information is not loaded by default when there are more then 5 safey checks. "),n.qZA())}let x=(()=>{class g{constructor(c,O,w){this.partitionCache=c,this.cdr=O,this.settingsService=w,this.safetyChecksWithData=[],this.tooManySafetyChecks=!1,this.sub=new I.w}ngOnInit(){this.settings=this.settingsService.getNewOrExistingListSettings("safety-checks",null,[new C.mP(T),new C.NL("SafetyCheck.Kind","Kind"),new C.a7("SafetyCheck.PartitionId","Partition",c=>c.link),new C.a7("applicationName","Application",c=>c.applicationLink),new C.a7("serviceName","service",c=>c.serviceLink)]),this.sub.add(this.partitionCache.partitionDataChanges.subscribe(c=>{this.setSafetyChecks(),this.cdr.detectChanges()}))}ngOnDestroy(){this.sub.unsubscribe()}ngOnChanges(){this.tooManySafetyChecks=this.safetyChecks.length>5,this.safetyChecks.forEach(c=>{c.SafetyCheck.PartitionId&&(this.partitionCache.ensureInitialCache(c),!this.tooManySafetyChecks&&"unstarted"===this.partitionCache.partitions[c.SafetyCheck.PartitionId].loading&&this.getPartitionInfo(c.SafetyCheck.PartitionId,c))}),this.setSafetyChecks()}getPartitionInfo(c,O){return(0,e.mG)(this,void 0,void 0,function*(){yield this.partitionCache.getPartitionInfo(c,O),this.setSafetyChecks(),this.cdr.detectChanges()})}safetyCheck(c,O){return O.SafetyCheck.PartitionId||O.SafetyCheck.Kind}setSafetyChecks(){this.safetyChecksWithData=this.safetyChecks.map(c=>c.SafetyCheck.PartitionId?this.partitionCache.partitions[c.SafetyCheck.PartitionId]:c)}}return g.\u0275fac=function(c){return new(c||g)(n.Y36(_),n.Y36(n.sBO),n.Y36(d.g))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-safety-checks"]],inputs:{safetyChecks:"safetyChecks"},features:[n.TTD],decls:3,vars:3,consts:[[2,"border-top","1px solid gray"],[4,"ngIf"],[3,"list","listSettings"]],template:function(c,O){1&c&&(n.TgZ(0,"div",0),n.YNc(1,r,2,0,"div",1),n._UZ(2,"app-detail-list",2),n.qZA()),2&c&&(n.xp6(1),n.Q6J("ngIf",O.tooManySafetyChecks),n.xp6(1),n.Q6J("list",O.safetyChecksWithData)("listSettings",O.settings))},directives:[l.O5,f.m],styles:[""]}),g})()},9196:(D,b,i)=>{i.d(b,{Y:()=>q});var e=i(4458),C=i(1455),n=i(5597),t=i(5e3),a=i(4333),h=i(9808),m=i(9342),p=i(8285),_=i(3847);let l=(()=>{class s{constructor(){this.failed=!1,this.progress=[],this.index=-1}ngOnChanges(){this.index={PreUpgradeSafetyCheck:1,Upgrading:2,PostUpgradeSafetyCheck:3}[this.node.UpgradePhase],this.index>1&&!this.failed&&this.index++,this.progress=[{name:"PreUpgrade SafetyCheck"},{name:"Upgrading"},{name:"PostUpgrade SafetyCheck"}]}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-node-progress"]],inputs:{failed:"failed",node:"node"},features:[t.TTD],decls:8,vars:5,consts:[[1,"flex-center",2,"font-size","15px","padding","5px","justify-content","space-between"],[1,"flex-center",2,"margin-left","10px","margin-bottom","5px"],[3,"items","currentIndex","failed"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"div",1),t._uU(6," Phase : "),t._UZ(7,"app-phase-diagram",2),t.qZA()),2&o&&(t.xp6(2),t.hij(" Node : ",u.node.NodeName," "),t.xp6(2),t.hij(" Safety Check(s) : ",u.node.PendingSafetyChecks.length," "),t.xp6(3),t.Q6J("items",u.progress)("currentIndex",u.index)("failed",u.failed))},directives:[_.A],styles:[""]}),s})();var v=i(1627);function P(s,y){if(1&s&&(t.TgZ(0,"div",1)(1,"app-collapse-container",2)(2,"div",3),t._UZ(3,"app-node-progress",4),t.qZA(),t.TgZ(4,"div",5),t._UZ(5,"app-safety-checks",6),t.qZA()()()),2&s){const o=y.$implicit,u=t.oxw();t.xp6(1),t.Q6J("sectionName",o.NodeName+" Progress "),t.xp6(2),t.Q6J("node",o)("failed",u.failed),t.xp6(2),t.Q6J("safetyChecks",o.PendingSafetyChecks)}}let T=(()=>{class s{constructor(){this.partitions={},this.failed=!1}nodeTrackBy(o,u){return u.NodeName}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-upgrade-domain-progress"]],inputs:{failed:"failed",upgradeDomain:"upgradeDomain"},decls:1,vars:2,consts:[["style","border-bottom: 1px solid gray; ",4,"ngFor","ngForOf","ngForTrackBy"],[2,"border-bottom","1px solid gray"],["collapsed","true",3,"sectionName"],["collapse-header",""],[3,"node","failed"],["collapse-body","",1,"table-responsive"],[3,"safetyChecks"]],template:function(o,u){1&o&&t.YNc(0,P,6,4,"div",0),2&o&&t.Q6J("ngForOf",u.upgradeDomain.NodeUpgradeProgressList)("ngForTrackBy",u.nodeTrackBy)},directives:[h.sg,p.P,l,v.L],styles:[""],changeDetection:0}),s})();var I=i(8139),d=i(1997),f=i(8673);let r=(()=>{class s{transform(o){return n.I.getDuration(o)}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275pipe=t.Yjl({name:"formatDate",type:s,pure:!0}),s})();const x=function(s){return{flex:s}};let g=(()=>{class s{constructor(){this.topText="",this.topHelpText="",this.bottomText="",this.bottomHelpText="",this.bottomHelpTextLink="",this.timeLeft=0,this.leftDuration=0,this.rightDuration=0,this.barColor=""}ngOnChanges(){this.leftDuration=this.topInMilliseconds/this.bottomInMilliseconds,this.rightDuration=1-this.leftDuration,this.timeLeft=this.bottomInMilliseconds-this.topInMilliseconds,this.barColor=this.setColorCode(this.leftDuration)}setColorCode(o){return o>.75?"red":o>.5?"yellow":"blue"}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-display-duration"]],inputs:{topText:"topText",topInMilliseconds:"topInMilliseconds",topHelpText:"topHelpText",bottomText:"bottomText",bottomInMilliseconds:"bottomInMilliseconds",bottomHelpText:"bottomHelpText",bottomHelpTextLink:"bottomHelpTextLink"},features:[t.TTD],decls:12,vars:17,consts:[[2,"flex","1"],[2,"display","flex","margin-bottom","5px","margin-top","5px"],["data-cy","bar-progress",2,"height","5px",3,"ngClass","ngStyle"],[2,"height","5px","background-color","grey",3,"ngStyle"],["target","_blank",1,"link",2,"float","right",3,"href"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div"),t._uU(2),t.ALo(3,"formatDate"),t.qZA(),t.TgZ(4,"div",1),t._UZ(5,"div",2)(6,"div",3),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"formatDate"),t.TgZ(10,"a",4),t._uU(11),t.qZA()()()),2&o&&(t.xp6(2),t.AsE(" ",u.topText," : ",t.lcZ(3,9,u.topInMilliseconds)," "),t.xp6(3),t.Q6J("ngClass",u.barColor)("ngStyle",t.VKq(13,x,u.leftDuration)),t.xp6(1),t.Q6J("ngStyle",t.VKq(15,x,u.rightDuration)),t.xp6(2),t.AsE(" ",u.bottomText," : ",t.lcZ(9,11,u.timeLeft)," "),t.xp6(2),t.Q6J("href",u.bottomHelpTextLink,t.LSH),t.xp6(1),t.hij(" ",u.bottomHelpText," "))},directives:[h.mk,h.PC],pipes:[r],styles:[""]}),s})();var M=i(8833);function c(s,y){1&s&&t._UZ(0,"app-essential-item",7),2&s&&t.Q6J("item",y.$implicit)("underline",!1)}function O(s,y){if(1&s&&(t.TgZ(0,"div",19)(1,"h5",20),t._uU(2,"Nodes Upgrading Status at Failure"),t.qZA(),t._UZ(3,"app-upgrade-domain-progress",21),t.qZA()),2&s){const o=t.oxw(2);t.xp6(3),t.Q6J("failed",!0)("upgradeDomain",o.upgradeProgress.raw.UpgradeDomainProgressAtFailure)}}function w(s,y){if(1&s&&(t.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"h5"),t._uU(4,"Upgrade Failure Overview"),t.qZA(),t.YNc(5,c,1,2,"app-essential-item",6),t.qZA(),t.YNc(6,O,4,2,"div",18),t.qZA()()),2&s){const o=t.oxw();t.xp6(5),t.Q6J("ngForOf",o.failedUpgradeItems),t.xp6(1),t.Q6J("ngIf",(null==o.upgradeProgress.raw.UpgradeDomainProgressAtFailure?null:o.upgradeProgress.raw.UpgradeDomainProgressAtFailure.NodeUpgradeProgressList.length)>0)}}function N(s,y){1&s&&t._UZ(0,"app-warning",22)}function E(s,y){if(1&s&&(t.TgZ(0,"div",23)(1,"h5"),t._uU(2),t.qZA(),t._UZ(3,"app-upgrade-progress",24),t.qZA()),2&s){const o=t.oxw();t.xp6(2),t.hij("",o.upgradeProgress.isUDUpgrade?"Upgrade Domain":"Node"," Progress"),t.xp6(1),t.Q6J("upgradeDomains",o.upgradeProgress.upgradeDomains)("showChart",!0)}}function S(s,y){1&s&&t._UZ(0,"app-essential-item",7),2&s&&t.Q6J("item",y.$implicit)("underline",!1)}function L(s,y){if(1&s&&t._UZ(0,"app-essential-item",25),2&s){const o=t.oxw();t.Q6J("item",o.upgradeDuration)}}function R(s,y){if(1&s&&(t.TgZ(0,"div",26),t._UZ(1,"app-display-duration",27),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("topInMilliseconds",o.upgradeProgress.upgradeTime)("bottomHelpText",o.helpText)("bottomHelpTextLink",o.link)("bottomInMilliseconds",o.upgradeProgress.getUpgradeTimeout())}}function B(s,y){1&s&&t._UZ(0,"app-essential-item",7),2&s&&t.Q6J("item",y.$implicit)("underline",!1)}function Y(s,y){if(1&s&&(t.TgZ(0,"div",28)(1,"h5"),t._uU(2,"Current Domain"),t.qZA(),t.YNc(3,B,1,2,"app-essential-item",6),t.TgZ(4,"div",29),t._UZ(5,"app-display-duration",30),t.qZA()()),2&s){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.essentialItems2),t.xp6(2),t.Q6J("topInMilliseconds",o.upgradeProgress.currentDomainTime)("bottomHelpText",o.helpText)("bottomHelpTextLink",o.link)("bottomInMilliseconds",o.upgradeProgress.getUpgradeDomainTimeout())}}function V(s,y){1&s&&t._UZ(0,"app-essential-item",7),2&s&&t.Q6J("item",y.$implicit)("underline",!1)}function j(s,y){if(1&s&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Monitoring And Health Policies"),t.qZA(),t.YNc(3,V,1,2,"app-essential-item",6),t.qZA()),2&s){const o=t.oxw();t.xp6(3),t.Q6J("ngForOf",o.healthPolicy)}}function z(s,y){if(1&s&&(t.TgZ(0,"div",31)(1,"h5",20),t._uU(2,"Nodes status"),t.qZA(),t._UZ(3,"app-upgrade-domain-progress",32),t.qZA()),2&s){const o=t.oxw();t.xp6(3),t.Q6J("upgradeDomain",o.upgradeProgress.nodesInProgress)}}function $(s,y){if(1&s&&(t.TgZ(0,"div",33)(1,"h4"),t._uU(2,"Unhealthy Evaluations (Upgrade)"),t.qZA(),t._UZ(3,"app-detail-list",34),t.qZA()),2&s){const o=t.oxw();t.xp6(3),t.Q6J("list",o.upgradeProgress.unhealthyEvaluations)("listSettings",o.upgradeProgressUnhealthyEvaluationsListSettings)}}let q=(()=>{class s{constructor(o){this.settings=o,this.essentialItems=[],this.essentialItems2=[],this.failedUpgradeItems=[],this.healthPolicy=[],this.helpText="",this.link="https://docs.microsoft.com/azure/service-fabric/service-fabric-application-upgrade#rolling-upgrades-overview",this.failed=!1,this.manual=!1}ngOnInit(){this.upgradeProgressUnhealthyEvaluationsListSettings=this.settings.getNewOrExistingUnhealthyEvaluationsListSettings("clusterUpgradeProgressUnhealthyEvaluations")}ngOnChanges(){var o,u,Q,J,F,W;if(this.manual="UnmonitoredManual"===this.upgradeProgress.raw.RollingUpgradeMode,this.failed="None"!==this.upgradeProgress.raw.FailureReason,this.failed){this.failedUpgradeItems=[{descriptionName:"Failure Reason",copyTextValue:this.upgradeProgress.raw.FailureReason,displayText:this.upgradeProgress.raw.FailureReason},{descriptionName:"Failure Timestamp",copyTextValue:this.upgradeProgress.raw.FailureTimestampUtc,displayText:this.upgradeProgress.raw.FailureTimestampUtc}];const U=this.upgradeProgress.raw.UpgradeDomainProgressAtFailure.DomainName;U&&this.failedUpgradeItems.push({descriptionName:"Failure Domain",copyTextValue:U,displayText:U})}const k=null===(u=null===(o=this.upgradeProgress.raw)||void 0===o?void 0:o.UpgradeDescription)||void 0===u?void 0:u.MonitoringPolicy;if(k){const U=n.I.getDuration(k.HealthCheckRetryTimeoutInMilliseconds),Z=n.I.getDuration(k.HealthCheckStableDurationInMilliseconds),A=n.I.getDuration(k.HealthCheckWaitDurationInMilliseconds);this.healthPolicy=[{descriptionName:"Health Check Wait Duration",copyTextValue:A,displayText:A},{descriptionName:"Health Check Stable Duration",copyTextValue:Z,displayText:Z},{descriptionName:"Health Check Retry Time Out",copyTextValue:U,displayText:U}]}let K=[];if(this.upgradeProgress instanceof C.XI){K=[{descriptionName:"Code Version",copyTextValue:this.upgradeProgress.raw.CodeVersion,displayText:this.upgradeProgress.raw.CodeVersion},{descriptionName:"Config Version",copyTextValue:this.upgradeProgress.raw.ConfigVersion,displayText:this.upgradeProgress.raw.ConfigVersion}];const U=null===(J=null===(Q=this.upgradeProgress.raw)||void 0===Q?void 0:Q.UpgradeDescription)||void 0===J?void 0:J.ClusterHealthPolicy;if(U){const Z=U.ConsiderWarningAsError,A=`${U.MaxPercentUnhealthyNodes}%`,H=`${U.MaxPercentUnhealthyApplications}%`;this.healthPolicy=this.healthPolicy.concat([{descriptionName:"Treat Warnings As Errors",copyTextValue:Z.toString(),displayText:Z.toString()},{descriptionName:"Max Unhealthy Nodes %",copyTextValue:A,displayText:A},{descriptionName:"Max Unhealthy Applications %",copyTextValue:H,displayText:H}])}}else if(this.upgradeProgress instanceof e.s6){K=[{descriptionName:"Target Version",copyTextValue:this.upgradeProgress.raw.TargetApplicationTypeVersion,displayText:this.upgradeProgress.raw.TargetApplicationTypeVersion}];const U=null===(W=null===(F=this.upgradeProgress.raw)||void 0===F?void 0:F.UpgradeDescription)||void 0===W?void 0:W.ApplicationHealthPolicy;if(U){const Z=U.ConsiderWarningAsError,A=`${U.MaxPercentUnhealthyDeployedApplications}%`;this.healthPolicy=this.healthPolicy.concat([{descriptionName:"Treat Warnings As Errors",copyTextValue:Z.toString(),displayText:Z.toString()},{descriptionName:"Max Unhealthy Deployed Applications %",copyTextValue:A,displayText:A}])}}this.essentialItems=K.concat([{descriptionName:"Upgrade State",copyTextValue:this.upgradeProgress.raw.UpgradeState,displayText:this.upgradeProgress.raw.UpgradeState},{descriptionName:"Upgrade Mode",copyTextValue:this.upgradeProgress.raw.RollingUpgradeMode,displayText:this.upgradeProgress.raw.RollingUpgradeMode}]),this.startTimeEssentialItem={descriptionName:"Start Timestamp UTC",copyTextValue:this.upgradeProgress.startTimestampUtc,displayText:this.upgradeProgress.startTimestampUtc,displaySelector:!0},!this.upgradeProgress.isUDUpgrade&&this.upgradeProgress.isUpgrading&&this.essentialItems.push({descriptionName:"Upgrade Type",displayText:"Node by Node"}),this.upgradeProgress.isUpgrading&&this.upgradeProgress.isUDUpgrade?(this.essentialItems2=[{descriptionName:"Current Upgrade Domain",copyTextValue:this.upgradeProgress.raw.CurrentUpgradeDomainProgress.DomainName,displayText:this.upgradeProgress.raw.CurrentUpgradeDomainProgress.DomainName}],this.helpText="Failure Action : "+this.upgradeProgress.raw.UpgradeDescription.MonitoringPolicy.FailureAction):this.upgradeDuration={descriptionName:"Duration",copyTextValue:this.upgradeProgress.upgradeDuration,displayText:this.upgradeProgress.upgradeDuration},console.log(this)}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(a.g))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-upgrade-info"]],inputs:{upgradeProgress:"upgradeProgress"},features:[t.TTD],decls:18,vars:13,consts:[[1,"detail-pane"],["data-cy","failedupgrade",4,"ngIf"],[1,"layout-container"],["data-cy","manualmode","description","Unmonitored manual mode needs manual intervention after every upgrade on an update domain,\n                                  to kick off the upgrade on the next update domain. No Service Fabric health checks are performed.\n                                  The administrator performs the health or status checks before starting the upgrade in the next update domain.",4,"ngIf"],["class","domain-container",4,"ngIf"],[1,"overview-container"],[3,"item","underline",4,"ngFor","ngForOf"],[3,"item","underline"],[3,"time"],[3,"item",4,"ngIf"],["class","duration","data-cy","upgrade-bar",4,"ngIf"],["data-cy","cud",4,"ngIf"],[4,"ngIf"],["data-cy","currentud","class","node-list",4,"ngIf"],["class","detail-pane","data-cy","upgradeHealthEvents","style","margin-top: 10px;",4,"ngIf"],["data-cy","failedupgrade"],[1,"layout-container","failed"],["data-cy","failureoverview",1,"overview-container"],["data-cy","failedud","class","node-list",4,"ngIf"],["data-cy","failedud",1,"node-list"],[2,"text-align","center"],[3,"failed","upgradeDomain"],["data-cy","manualmode","description","Unmonitored manual mode needs manual intervention after every upgrade on an update domain,\n                                  to kick off the upgrade on the next update domain. No Service Fabric health checks are performed.\n                                  The administrator performs the health or status checks before starting the upgrade in the next update domain."],[1,"domain-container"],[2,"align-self","center",3,"upgradeDomains","showChart"],[3,"item"],["data-cy","upgrade-bar",1,"duration"],["topText","Upgrade Duration","bottomText","Time Left Until Timeout",3,"topInMilliseconds","bottomHelpText","bottomHelpTextLink","bottomInMilliseconds"],["data-cy","cud"],["data-cy","upgrade-bar-domain",1,"duration"],["topText","Upgrade Domain Duration","bottomText","Time Left Until Timeout",3,"topInMilliseconds","bottomHelpText","bottomHelpTextLink","bottomInMilliseconds"],["data-cy","currentud",1,"node-list"],[3,"upgradeDomain"],["data-cy","upgradeHealthEvents",1,"detail-pane",2,"margin-top","10px"],[3,"list","listSettings"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0),t.YNc(1,w,7,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,N,1,0,"app-warning",3),t.YNc(4,E,4,3,"div",4),t.TgZ(5,"div",5)(6,"div")(7,"h5"),t._uU(8,"Overview"),t.qZA(),t.YNc(9,S,1,2,"app-essential-item",6),t.TgZ(10,"app-essential-item",7),t._UZ(11,"app-display-time",8),t.qZA(),t.YNc(12,L,1,1,"app-essential-item",9),t.YNc(13,R,2,4,"div",10),t.qZA(),t.YNc(14,Y,6,5,"div",11),t.qZA(),t.YNc(15,j,4,1,"div",12),t.YNc(16,z,4,1,"div",13),t.qZA(),t.YNc(17,$,4,2,"div",14),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngIf",u.failed),t.xp6(2),t.Q6J("ngIf",u.manual),t.xp6(1),t.Q6J("ngIf",u.upgradeProgress.upgradeDomains.length>0),t.xp6(5),t.Q6J("ngForOf",u.essentialItems),t.xp6(1),t.Q6J("item",u.startTimeEssentialItem)("underline",!1),t.xp6(1),t.Q6J("time",u.upgradeProgress.startTimestampUtc),t.xp6(1),t.Q6J("ngIf",!u.upgradeProgress.isUpgrading&&u.upgradeDuration),t.xp6(1),t.Q6J("ngIf",u.upgradeProgress.isUpgrading&&u.upgradeProgress.isUDUpgrade),t.xp6(1),t.Q6J("ngIf",u.upgradeProgress.isUpgrading&&u.upgradeProgress.isUDUpgrade),t.xp6(1),t.Q6J("ngIf",u.healthPolicy.length>0),t.xp6(1),t.Q6J("ngIf",u.upgradeProgress.isUpgrading&&(null==u.upgradeProgress.nodesInProgress?null:u.upgradeProgress.nodesInProgress.NodeUpgradeProgressList.length)>0),t.xp6(1),t.Q6J("ngIf",u.upgradeProgress.unhealthyEvaluations.length>0))},directives:[h.O5,h.sg,m._,T,I.a,d.S,f.h,g,M.m],styles:[".duration[_ngcontent-%COMP%]{margin-top:5px}h5[_ngcontent-%COMP%]{margin-bottom:0;text-align:center}.domain-container[_ngcontent-%COMP%]{-ms-flex:1;flex:1;max-width:350px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.overview-container[_ngcontent-%COMP%]{-ms-flex:1;flex:1;min-width:350px;max-width:400px;margin-right:10px;margin-left:10px}.layout-container[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;width:100%;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:distribute;justify-content:space-around}.layout-container.failed[_ngcontent-%COMP%]{border:2px solid var(--badge-error);padding:10px;border-left:10px solid var(--badge-error);border-radius:5px;margin-bottom:10px}.node-list[_ngcontent-%COMP%]{-ms-flex:2;flex:2;min-width:500px}@media (max-width: 400px){.overview-container[_ngcontent-%COMP%]{min-width:0}}"]}),s})()},1926:(D,b,i)=>{i.d(b,{m:()=>h});var e=i(9808),C=i(4466),n=i(322),t=i(6461),a=i(5e3);let h=(()=>{class m{}return m.\u0275fac=function(_){return new(_||m)},m.\u0275mod=a.oAB({type:m}),m.\u0275inj=a.cJS({imports:[[e.ez,C.m,n.HK,t.Q]]}),m})()},1997:(D,b,i)=>{i.d(b,{S:()=>I});var e=i(3470),n=i(2055),t=i(5053),a=i(5e3),h=i(9808),m=i(322);const p=["chart"];function _(d,f){if(1&d&&(a.TgZ(0,"div",5)(1,"div",6),a._uU(2),a.qZA()()),2&d){const r=f.$implicit;a.Q6J("ngbTooltip",r.name+" - "+r.stateName),a.xp6(1),a.Q6J("ngClass",r.badgeClass),a.xp6(1),a.Oqu(r.name)}}function l(d,f){if(1&d&&(a.TgZ(0,"div",3),a.YNc(1,_,3,3,"div",4),a.qZA()),2&d){const r=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",r.upgradeDomains)}}function v(d,f){if(1&d&&(a.TgZ(0,"div",9),a._UZ(1,"div",10),a.TgZ(2,"div",11),a._uU(3),a.qZA(),a.TgZ(4,"div",12),a._uU(5),a.qZA()()),2&d){const r=f.$implicit;a.xp6(1),a.Q6J("ngClass",r.css),a.xp6(2),a.Oqu(r.name),a.xp6(2),a.Oqu(r.uds.length)}}function P(d,f){if(1&d&&(a.TgZ(0,"div")(1,"div",7),a.YNc(2,v,6,3,"div",8),a.qZA()()),2&d){const r=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",r.tiles)}}function T(d,f){if(1&d&&(a.TgZ(0,"div"),a.YNc(1,l,2,1,"div",2),a.YNc(2,P,3,1,"div",0),a.qZA()),2&d){const r=a.oxw();a.xp6(1),a.Q6J("ngIf",r.upgradeDomains.length<15),a.xp6(1),a.Q6J("ngIf",r.upgradeDomains.length>14)}}let I=(()=>{class d{constructor(){this.showChart=!1,this.tiles=[],this.displayUd=[]}ngAfterViewInit(){if(this.showChart){const r=this.getDataSet();this.chart=(0,e.chart)(this.chartContainer.nativeElement,{chart:{type:"pie",width:350,height:300,backgroundColor:null,borderRadius:0},title:{text:"",verticalAlign:"middle",style:{color:"#1234",fontSize:"15pt"}},credits:{enabled:!1},plotOptions:{pie:{borderWidth:2,innerSize:"50%",borderColor:"#262626"},series:{dataLabels:{enabled:!0,color:"white",borderColor:"white",inside:!0,textPath:{enabled:!1}}}},tooltip:{formatter:(()=>{const x=this;return function(g){return`${this.key} <br> ${x.upgradeDomains[this.point.index].stateName}`}})()},series:[{data:r}]})}}getDataSet(){const r={"badge-unknown":"gray","badge-ok":"#088105","badge-warning":"#0075c9","badge-error":"#E81123"};let x=[];if(this.upgradeDomains.length>30){const g=new n.A;this.upgradeDomains.forEach(M=>g.add(M.stateName+"---"+M.badgeClass)),x=g.entries().map(M=>{const c=M.key.toString().split("---");return{type:"pie",name:c[0]+" : "+M.value,y:M.value,color:r[c[1]],dataLabels:{style:{fontSize:"13px",fontColor:"#fff"}}}})}else x=this.upgradeDomains.map(g=>({type:"pie",name:g.prefix+g.name,y:1,color:r[g.badgeClass],dataLabels:{style:{fontSize:"13px",fontColor:"#fff"}}}));return x.every(g=>0===g.y)&&x.push({type:"pie",name:"",y:1,color:"gray",dataLabels:{style:{fontSize:"20px",fontColor:"#fff"}}}),x}ngOnChanges(){if(this.chart)this.chart.series[0].setData(this.getDataSet());else{const r={};r[t.TK.Pending]={name:t.TK.Pending,css:t.IU.BadgeUnknown,uds:[]},r[t.TK.InProgress]={name:t.TK.InProgress,css:t.IU.BadgeWarning,uds:[]},r[t.TK.Completed]={name:t.TK.Completed,css:t.IU.BadgeOK,uds:[]},r[t.TK.Failed]={name:t.TK.Failed,css:t.IU.BadgeError,uds:[]},this.tiles=[r[t.TK.Completed],r[t.TK.InProgress],r[t.TK.Pending],r[t.TK.Failed]],this.upgradeDomains.forEach(x=>{r[x.stateName].uds.push(x)})}}}return d.\u0275fac=function(r){return new(r||d)},d.\u0275cmp=a.Xpm({type:d,selectors:[["app-upgrade-progress"]],viewQuery:function(r,x){if(1&r&&a.Gf(p,5),2&r){let g;a.iGM(g=a.CRH())&&(x.chartContainer=g.first)}},inputs:{upgradeDomains:"upgradeDomains",showChart:"showChart"},features:[a.TTD],decls:3,vars:1,consts:[[4,"ngIf"],["chart",""],["class","upgrade-progress",4,"ngIf"],[1,"upgrade-progress"],["class","upgrade-domain-bar","tooltipClass","styled-tooltip",3,"ngbTooltip",4,"ngFor","ngForOf"],["tooltipClass","styled-tooltip",1,"upgrade-domain-bar",3,"ngbTooltip"],[1,"upgrade-domain-title",3,"ngClass"],[1,"dashboard-datapoints"],["class","dashboard-datapoint",4,"ngFor","ngForOf"],[1,"dashboard-datapoint"],[1,"dashboard-datapoint-leftbar",3,"ngClass"],[1,"dashboard-datapoint-title"],[1,"dashboard-datapoint-number"]],template:function(r,x){1&r&&(a.YNc(0,T,3,2,"div",0),a._UZ(1,"div",null,1)),2&r&&a.Q6J("ngIf",!x.showChart)},directives:[h.O5,h.sg,m._L,h.mk],styles:[".upgrade-progress[_ngcontent-%COMP%]{background-color:transparent;padding:1px;font-size:var(--font-size-small);margin:1px;border-spacing:0}.upgrade-progress[_ngcontent-%COMP%]   .upgrade-domain-bar[_ngcontent-%COMP%]{display:inline-block;color:#fff!important;padding:1px;text-align:center;vertical-align:middle}.upgrade-progress[_ngcontent-%COMP%]   .upgrade-domain-bar[_ngcontent-%COMP%]   .upgrade-domain-title[_ngcontent-%COMP%]{border:1px solid black;padding:1px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:32px;font-size:9pt;width:80px;height:35px;color:#fff!important}.badge-unknown[_ngcontent-%COMP%]{background-color:var(--badge-unknown)}.badge-ok[_ngcontent-%COMP%]{background-color:var(--badge-ok)}.badge-warning[_ngcontent-%COMP%]{background-color:var(--accent-darkblue)}.badge-error[_ngcontent-%COMP%]{background-color:var(--badge-error)}"],changeDetection:0}),d})()},8285:(D,b,i)=>{i.d(b,{P:()=>P});var e=i(5e3),C=i(5664),n=i(9808),t=i(322);function a(T,I){if(1&T&&e._UZ(0,"button",5),2&T){const d=e.oxw();e.Gre("mif-2x status-icon ",d.collapsed?"mif-arrow-drop-down":"mif-arrow-drop-up",""),e.uIk("aria-label",d.displayText)("aria-expanded",!d.collapsed)}}function h(T,I){1&T&&(e.TgZ(0,"div"),e.Hsn(1,1),e.qZA())}function m(T,I){1&T&&(e.TgZ(0,"div"),e.Hsn(1,2),e.qZA())}const p=[[["","collapse-header",""]],[["","collapse-body",""]],[["","closed-body",""]]],_=function(T){return{"base-header":T}},l=function(T){return{"margin-left":T}},v=["[collapse-header]","[collapse-body]","[closed-body]"];let P=(()=>{class T{constructor(d){this.liveAnnouncer=d,this.collapsed=!1,this.disabled=!1,this.hideTooltip=!1,this.sectionName="this",this.tooltipSouth=!1,this.collapsedChange=new e.vpe,this.displayText=""}ngOnChanges(){this.setText()}ngOnInit(){this.setText()}changeCollapseState(){this.disabled||(this.liveAnnouncer.announce(this.sectionName+" Section has been "+this.collapsed?"Opened":"Closed"),this.collapsed=!this.collapsed,this.collapsedChange.emit(this.collapsed)),this.setText()}setText(){this.displayText=(this.collapsed?"Open ":"Close ")+this.sectionName+" Section"}}return T.\u0275fac=function(d){return new(d||T)(e.Y36(C.Kd))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-collapse-container"]],inputs:{collapsed:"collapsed",disabled:"disabled",hideTooltip:"hideTooltip",sectionName:"sectionName",tooltipSouth:"tooltipSouth"},outputs:{collapsedChange:"collapsedChange"},features:[e.TTD],ngContentSelectors:v,decls:7,vars:13,consts:[[2,"position","relative"],["tooltipClass","styled-tooltip",1,"flex-center",3,"ngClass","ngbTooltip","placement","disableTooltip","click"],["tabindex","0",3,"class",4,"ngIf"],[1,"header-wrapper",3,"ngStyle"],[4,"ngIf"],["tabindex","0"]],template:function(d,f){1&d&&(e.F$t(p),e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return f.changeCollapseState()}),e.YNc(2,a,1,5,"button",2),e.TgZ(3,"div",3),e.Hsn(4),e.qZA()(),e.YNc(5,h,2,0,"div",4),e.YNc(6,m,2,0,"div",4),e.qZA()),2&d&&(e.xp6(1),e.Q6J("ngClass",e.VKq(9,_,!f.disabled))("ngbTooltip",f.displayText)("placement",f.tooltipSouth?"bottom":"top")("disableTooltip",f.disabled||f.hideTooltip),e.uIk("aria-expanded",!f.collapsed),e.xp6(1),e.Q6J("ngIf",!f.disabled),e.xp6(1),e.Q6J("ngStyle",e.VKq(11,l,f.disabled?"25px":"")),e.xp6(2),e.Q6J("ngIf",!f.collapsed),e.xp6(1),e.Q6J("ngIf",f.collapsed))},directives:[n.mk,t._L,n.O5,n.PC],styles:[".base-header[_ngcontent-%COMP%]{border-radius:var(--primary-border-radius);cursor:pointer}.base-header[_ngcontent-%COMP%]:hover, .base-header[_ngcontent-%COMP%]:focus-within{filter:brightness(100%);background-color:#ffffff1a}.header-wrapper[_ngcontent-%COMP%]{width:calc(100% - 25px);display:inline-block}.status-icon[_ngcontent-%COMP%]{width:25px}button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:0px;color:#fff}"]}),T})()},9342:(D,b,i)=>{i.d(b,{_:()=>_});var e=i(5e3),C=i(9808),n=i(7191);function t(l,v){if(1&l&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&l){const P=e.oxw();e.xp6(1),e.hij(" ",P.item.descriptionName," ")}}function a(l,v){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&l){const P=e.oxw();e.xp6(1),e.hij(" ",P.item.displayText," ")}}function h(l,v){1&l&&(e.TgZ(0,"span"),e.Hsn(1),e.qZA())}function m(l,v){if(1&l&&e._UZ(0,"app-clip-board",8),2&l){const P=e.oxw();e.Q6J("text",P.item.copyTextValue)}}const p=["*"];let _=(()=>{class l{constructor(){this.underline=!1}}return l.\u0275fac=function(P){return new(P||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-essential-item"]],inputs:{item:"item",underline:"underline"},ngContentSelectors:p,decls:8,vars:5,consts:[[1,"essential-list-item","highlight-hover",3,"ngClass"],[1,"text-wrapper","tile-item"],["class","tile-list-entry left-text",4,"ngIf"],[1,"spacer"],[1,"middle-text"],[4,"ngIf"],[3,"text",4,"ngIf"],[1,"tile-list-entry","left-text"],[3,"text"]],template:function(P,T){1&P&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,t,2,1,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e.YNc(5,a,2,1,"span",5),e.YNc(6,h,2,0,"span",5),e.qZA()(),e.YNc(7,m,1,1,"app-clip-board",6),e.qZA()),2&P&&(e.Q6J("ngClass",T.underline?"":"underline"),e.xp6(2),e.Q6J("ngIf",T.item.descriptionName),e.xp6(3),e.Q6J("ngIf",!T.item.displaySelector),e.xp6(1),e.Q6J("ngIf",T.item.displaySelector),e.xp6(1),e.Q6J("ngIf",T.item.copyTextValue))},directives:[C.mk,C.O5,n._],styles:[""]}),l})()},3347:(D,b,i)=>{i.d(b,{p:()=>C});var e=i(5e3);let C=(()=>{class n{constructor(){this.manifestName="",this.manifest=""}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manifest-viewer"]],inputs:{manifestName:"manifestName",manifest:"manifest"},decls:6,vars:3,consts:[[1,"detail-pane","essen-pane"],["id","clusterManifestName"]],template:function(a,h){1&a&&(e.TgZ(0,"div",0)(1,"h4")(2,"span",1),e._uU(3),e.qZA()(),e.TgZ(4,"code"),e._uU(5),e.qZA()()),2&a&&(e.xp6(3),e.Oqu(h.manifestName),e.xp6(1),e.uIk("aria-label","manifest of "+h.manifestName),e.xp6(1),e.Oqu(h.manifest))},styles:["code[_ngcontent-%COMP%]{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0;line-break:unset;word-break:break-word}"]}),n})()},3847:(D,b,i)=>{i.d(b,{A:()=>m});var e=i(5e3),C=i(9808);function n(p,_){1&p&&e.GkF(0)}function t(p,_){1&p&&e._UZ(0,"div",9)}const a=function(p){return{data:p}};function h(p,_){if(1&p&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"span",4),e._uU(6),e.qZA(),e._UZ(7,"span",5),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,n,1,0,"ng-container",7),e.qZA(),e.YNc(10,t,1,0,"div",8),e.BQk()),2&p){const l=_.$implicit,v=_.last,P=e.oxw();e.xp6(1),e.Q6J("ngClass",P.cssClass[l.state]),e.uIk("data-cy",P.cssClass[l.state]+"phase"),e.xp6(2),e.hij("",l.name," "),e.xp6(3),e.Oqu(l.textRight),e.xp6(1),e.Q6J("ngClass",P.iconMap[l.state]),e.xp6(2),e.Q6J("ngTemplateOutlet",P.middleItem)("ngTemplateOutletContext",e.VKq(8,a,l)),e.xp6(1),e.Q6J("ngIf",!v)}}let m=(()=>{class p{constructor(){this.currentIndex=0,this.vertical=!1,this.failed=!1,this.progress=[],this.wrapperClass="",this.iconMap={"-1":"mif-checkmark",0:"mif-spinner4 rotate"},this.cssClass={"-1":"done",0:"in-progress","-2":"failed",1:"pending"}}ngOnChanges(){this.progress=this.items.map((l,v)=>Object.assign(Object.assign({},l),{name:l.name,state:this.getPhaseReference(this.currentIndex,v+1),textRight:l.textRight})),this.wrapperClass=this.vertical?"vertical":""}getPhaseReference(l,v){const P=v-l;return P>=1?1:P<=-1?-1:this.failed?-2:0}}return p.\u0275fac=function(l){return new(l||p)},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-phase-diagram"]],inputs:{middleItem:"middleItem",items:"items",currentIndex:"currentIndex",vertical:"vertical",failed:"failed"},features:[e.TTD],decls:2,vars:2,consts:[[1,"flex-center",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"progress-item","hover-row",3,"ngClass"],[1,"text-description"],[2,"margin-right","5px"],[3,"ngClass"],[2,"width","fit-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mif-arrow-right arrow",4,"ngIf"],[1,"mif-arrow-right","arrow"]],template:function(l,v){1&l&&(e.TgZ(0,"div",0),e.YNc(1,h,11,10,"ng-container",1),e.qZA()),2&l&&(e.Q6J("ngClass",v.wrapperClass),e.xp6(1),e.Q6J("ngForOf",v.progress))},directives:[C.mk,C.sg,C.tP,C.O5],styles:[".progress-item[_ngcontent-%COMP%]{position:relative;padding:0 5px 5px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-bottom:3px solid;margin-left:5px;margin-right:5px;text-align:center;-ms-flex-pack:justify;justify-content:space-between}.progress-item[_ngcontent-%COMP%]   .text-description[_ngcontent-%COMP%]{margin-right:5px}.progress-indicator[_ngcontent-%COMP%]{display:block;border-radius:50%;border:3px solid white;width:15px;height:15px}.pending[_ngcontent-%COMP%]{border-color:gray}.in-progress[_ngcontent-%COMP%]{border-color:var(--accent-darkblue)}.done[_ngcontent-%COMP%]{border-color:green}.failed[_ngcontent-%COMP%]{border-color:var(--badge-error)}.vertical[_ngcontent-%COMP%]{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:stretch;align-items:stretch}.vertical[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{-ms-flex:1;flex:1}.vertical[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{-ms-flex-item-align:center;align-self:center;-ms-transform:rotate(90deg);transform:rotate(90deg)}"]}),p})()},8139:(D,b,i)=>{i.d(b,{a:()=>a});var e=i(5e3),C=i(9808);function n(h,m){if(1&h&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&h){const p=m.$implicit;e.xp6(1),e.hij(" ",p," ")}}function t(h,m){if(1&h&&(e.TgZ(0,"div",3)(1,"a",4),e._uU(2),e.qZA()()),2&h){const p=e.oxw();e.xp6(1),e.Q6J("href",p.link,e.LSH),e.xp6(1),e.Oqu(p.linkText)}}let a=(()=>{class h{constructor(){this.description="",this.iconSize="mif-4x",this.descriptionList=[]}}return h.\u0275fac=function(p){return new(p||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-warning"]],inputs:{description:"description",iconSize:"iconSize",descriptionList:"descriptionList",link:"link",linkText:"linkText"},decls:9,vars:6,consts:[[1,"warning-message"],[4,"ngFor","ngForOf"],["class","warning-link",4,"ngIf"],[1,"warning-link"],["target","_blank",1,"link",3,"href"]],template:function(p,_){1&p&&(e.TgZ(0,"div",0),e._UZ(1,"span"),e.TgZ(2,"div")(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div")(6,"ul"),e.YNc(7,n,2,1,"li",1),e.qZA()(),e.YNc(8,t,3,2,"div",2),e.qZA()()),2&p&&(e.xp6(1),e.Gre("",_.iconSize," mif-notification warning-icon"),e.xp6(3),e.hij(" ",_.description," "),e.xp6(3),e.Q6J("ngForOf",_.descriptionList),e.xp6(1),e.Q6J("ngIf",_.linkText))},directives:[C.sg,C.O5],styles:[".warning-message[_ngcontent-%COMP%]{width:100%;display:-ms-flexbox;display:flex;border:1px solid var(--badge-warning);padding:5px 5px 5px 0;border-radius:10px;box-shadow:var(--heavy-box-shadow)}.warning-message[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{padding:10px;border-right:2px solid var(--accent-underline);margin-right:10px;-ms-flex-item-align:center;align-self:center;color:var(--badge-warning)}.warning-message[_ngcontent-%COMP%]   .warning-link[_ngcontent-%COMP%]{text-align:center;margin-top:5px}ul[_ngcontent-%COMP%]{-webkit-padding-start:20px;padding-inline-start:20px}"],changeDetection:0}),h})()}}]);