"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_deployed-replicas_deployed-replicas_module_ts"],{2165:(S,h,t)=>{t.d(h,{J:()=>e});var u=t(2654),p=t(1086),g=t(8555),n=t(1709),o=t(5563),m=t(2684),r=t(5e3);let e=(()=>{class d{constructor(l){this.injector=l,this.subscriptions=new u.w}ngOnInit(){this.activatedRoute=this.injector.get(g.gz),this.refreshService=this.injector.get(o.g),this.messageService=this.injector.get(m.e),this.router=this.injector.get(g.F0),this.subscriptions.add(this.activatedRoute.params.subscribe(()=>{this.getParams(this.activatedRoute.snapshot),this.setup(),this.subscriptions.add(this.refreshService.refreshSubject.subscribe(()=>this.fullRefresh().subscribe())),this.subscriptions.add(this.fullRefresh().subscribe())})),console.log(this)}getClassName(){return this.constructor.name}setup(){}ngOnDestroy(){this.subscriptions.unsubscribe()}fullRefresh(){return this.common().pipe((0,n.zg)(()=>this.refresh(this.messageService)))}getParams(l){}refresh(l){return(0,p.of)(null)}common(l){return(0,p.of)(null)}}return d.\u0275fac=function(l){return new(l||d)(r.Y36(r.zs3))},d.\u0275dir=r.lG2({type:d}),d})()},4532:(S,h,t)=>{t.r(h),t.d(h,{DeployedReplicasModule:()=>x});var u=t(9808),p=t(8555),g=t(2165),n=t(6174),o=t(5237),m=t(4850),r=t(4286),e=t(5e3),d=t(3240),f=t(2261),l=t(4333),D=t(8118),P=t(8833);function C(s,c){if(1&s&&(e.TgZ(0,"div",4),e._UZ(1,"app-detail-list",5),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("list",i.replicas)("listSettings",i.listSettings)}}function B(s,c){if(1&s&&(e.TgZ(0,"div")(1,"div",2),e.YNc(2,C,2,2,"div",3),e.qZA()()),2&s){const i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.listSettings)}}const E=[{path:"",component:(()=>{class s extends g.J{constructor(i,a,R,v){super(a),this.data=i,this.tree=R,this.settings=v}setup(){this.tree.selectTreeNode([o.R.cluster(),o.R.nodeGroup(),o.R.node(this.nodeName),o.R.deployedApp(this.appId),o.R.deployedServicePackage(this.serviceId,this.activationId),o.R.deployedReplicaGroup()],!0),this.listSettings=null}refresh(i){return this.data.getDeployedReplicas(this.nodeName,this.appId,this.serviceId,this.activationId,!0,i).pipe((0,m.U)(a=>{if(this.replicas=a,this.type=a.isStatelessService?"Deployed Instances":"Deployed Replicas",!this.listSettings&&a.length>0){const R=a.collection[0];let v=["replicaRoleSortPriority","id"];const y=[new n.a7("id","Id",I=>I.viewPath),new n.NL("raw.PartitionId","Partition Id"),new n.v0("raw.ServiceKind","Service Kind"),new n.v0("role","Replica Role",{sortPropertyPaths:v}),new n.v0("raw.ReplicaStatus","Status")];R.isStatelessService&&(y.splice(3,1),v=["id"]),a.collection.some(I=>I.servicePackageActivationId)&&y.splice(1,0,new n.NL("servicePackageActivationId","Service Package Activation Id")),this.listSettings=this.settings.getNewOrExistingListSettings(`replicas-${this.serviceId}${this.nodeName}`,v,y)}}))}getParams(i){this.nodeName=r.a.getNodeName(i),this.appId=r.a.getAppId(i),this.serviceId=r.a.getServiceId(i),this.activationId=r.a.getServicePackageActivationId(i)}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(d.D),e.Y36(e.zs3),e.Y36(f.r),e.Y36(l.g))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-base"]],features:[e.qOj],decls:2,vars:3,consts:[[3,"type","showCopy"],[4,"ngIf"],[1,"main-view"],["class","detail-pane essen-pane","data-cy","replicas",4,"ngIf"],["data-cy","replicas",1,"detail-pane","essen-pane"],[3,"list","listSettings"]],template:function(i,a){1&i&&(e._UZ(0,"app-navbar",0),e.YNc(1,B,3,1,"div",1)),2&i&&(e.Q6J("type",a.type)("showCopy",!1),e.xp6(1),e.Q6J("ngIf",a.replicas))},directives:[D.S,u.O5,P.m],styles:[""]}),s})()}];let M=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.Bz.forChild(E)],p.Bz]}),s})();var O=t(4466),A=t(6461);let x=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[u.ez,M,O.m,A.Q]]}),s})()}}]);