"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_deployed-replica_deployed-replica_module_ts"],{1694:(M,v,a)=>{a.r(v),a.d(v,{DeployedReplicaModule:()=>E});var d=a(9808),o=a(5467),f=a(1709),p=a(4286),y=a(2165),e=a(5e3),r=a(7559);let m=(()=>{class i extends y.J{constructor(t,l){super(l),this.data=t}common(t){return this.data.getDeployedReplica(this.nodeName,this.applicationId,this.serviceId,this.activationId,this.partitionId,!0,t).pipe((0,f.zg)(l=>(this.replica=l,this.replica.detail.refresh())))}getParams(t){this.nodeName=p.a.getNodeName(t),this.serviceId=p.a.getServiceId(t),this.activationId=p.a.getServicePackageActivationId(t),this.partitionId=p.a.getPartitionId(t),this.applicationId=p.a.getAppId(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.D),e.Y36(e.zs3))},i.\u0275dir=e.lG2({type:i,features:[e.qOj]}),i})();var n=a(5237),u=a(1086),I=a(2261),g=a(8118);let x=(()=>{class i extends m{constructor(t,l,c){super(t,l),this.data=t,this.tree=c,this.type="",this.tabs=[{name:"essentials",route:"./"},{name:"details",route:"./details"}]}setup(){console.log(this),this.tree.selectTreeNode([n.R.cluster(),n.R.nodeGroup(),n.R.node(this.nodeName),n.R.deployedApp(this.applicationId),n.R.deployedServicePackage(this.serviceId,this.activationId),n.R.deployedReplicaGroup(),n.R.deployedReplica(this.partitionId)],!0)}refresh(t){return this.type=this.replica.isStatelessService?"Deployed Instance":"Deployed Replica",(0,u.of)(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.D),e.Y36(e.zs3),e.Y36(I.r))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-base"]],features:[e.qOj],decls:4,vars:3,consts:[[3,"tabs","type","name"],[1,"main-view"],[1,"flex-child"]],template:function(t,l){1&t&&(e._UZ(0,"app-navbar",0),e.TgZ(1,"div",1)(2,"div",2),e._UZ(3,"router-outlet"),e.qZA()()),2&t&&e.Q6J("tabs",l.tabs)("type",l.type)("name",null==l.replica?null:l.replica.id)},directives:[g.S,o.lC],styles:[""]}),i})();var T=a(1763),h=a(4034),D=a(7895),N=a(4080);function R(i,s){if(1&i&&e._UZ(0,"app-status-resolver",8),2&i){const t=e.oxw(2);e.Q6J("status",t.replica.raw.ReplicaStatus)}}function S(i,s){if(1&i&&(e.TgZ(0,"a",9),e._uU(1,"View on Application"),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("routerLink",t.appView)}}function C(i,s){if(1&i&&(e.TgZ(0,"a",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("routerLink",t.replica.serviceViewPath),e.xp6(1),e.Oqu(t.replica.raw.ServiceName)}}function Z(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",1)(2,"app-essential-health-tile",2),e.YNc(3,R,1,1,"ng-template",3),e.YNc(4,S,2,1,"ng-template",4),e.qZA(),e.TgZ(5,"app-essential-health-tile",2),e.YNc(6,C,2,2,"ng-template",5),e.qZA()(),e.TgZ(7,"div",6),e._UZ(8,"app-replica-address",7),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("listItems",t.essentialItems),e.xp6(3),e.Q6J("listItems",t.essentialItems2),e.xp6(3),e.Q6J("address",t.replica.address)}}let A=(()=>{class i extends m{constructor(t,l){super(t,l),this.data=t,this.essentialItems=[],this.essentialItems2=[]}setup(){this.essentialItems=[]}refresh(t){const c=this.replica.parent.parent,U=encodeURI(this.replica.raw.ServiceName.replace("fabric:/",""));return this.appView=T._.getReplicaViewPath(c.raw.TypeName,c.raw.Id,U,this.replica.raw.PartitionId,this.replica.id),this.essentialItems=[{descriptionName:"Status",copyTextValue:this.replica.raw.ReplicaStatus,selectorName:"status",displaySelector:!0},{selectorName:"view",displaySelector:!0}],this.replica.detail.isInitialized&&this.essentialItems.splice(1,0,{descriptionName:"Process Id",copyTextValue:this.replica.detail.processID,displayText:this.replica.detail.processID}),this.replica.servicePackageActivationId&&this.essentialItems.splice(1,0,{descriptionName:"Service Package Activation Id",copyTextValue:this.replica.servicePackageActivationId,displayText:this.replica.servicePackageActivationId}),this.essentialItems2=[{descriptionName:"Service Name",copyTextValue:this.replica.raw.ServiceName,selectorName:"serviceName",displaySelector:!0},{descriptionName:"Service Kind",displayText:this.replica.raw.ServiceKind,copyTextValue:this.replica.raw.ServiceKind},{descriptionName:"Partition Id",displayText:this.replica.raw.PartitionId,copyTextValue:this.replica.raw.PartitionId}],this.replica.isStatefulService&&this.essentialItems2.push({descriptionName:"Replica Role",copyTextValue:this.replica.role,displayText:this.replica.role}),(0,u.of)(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.D),e.Y36(e.zs3))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-essentials"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"tile-container"],[1,"long",3,"listItems"],["appEssentialTemplate","","id","status"],["appEssentialTemplate","","id","view"],["appEssentialTemplate","","id","serviceName"],[1,"essen-pane"],[3,"address"],[3,"status"],[3,"routerLink"]],template:function(t,l){1&t&&e.YNc(0,Z,9,3,"div",0),2&t&&e.Q6J("ngIf",l.replica)},directives:[d.O5,h.Q,h.W,D.u,o.yS,N.z],styles:[""]}),i})();var w=a(1271);function J(i,s){if(1&i&&(e.TgZ(0,"div",1)(1,"h4"),e._uU(2," Details "),e.qZA(),e._UZ(3,"app-detail-view-part",2),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("data",t.replica.detail)}}function P(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",1),e._UZ(2,"app-detail-view-part",2),e.qZA(),e.YNc(3,J,4,1,"div",3),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("data",t.replica),e.xp6(1),e.Q6J("ngIf",t.replica.detail&&t.replica.detail.isInitialized)}}const Y=[{path:"",component:x,children:[{path:"",component:A},{path:"details",component:(()=>{class i extends m{constructor(t,l){super(t,l),this.data=t}refresh(t){return this.replica.detail.refresh(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.D),e.Y36(e.zs3))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-details"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"detail-pane","essen-pane"],[3,"data"],["class","detail-pane essen-pane",4,"ngIf"]],template:function(t,l){1&t&&e.YNc(0,P,4,2,"div",0),2&t&&e.Q6J("ngIf",l.replica)},directives:[d.O5,w.d],styles:[""]}),i})()}]}];let Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[o.Bz.forChild(Y)],o.Bz]}),i})();var B=a(4466),V=a(6461),z=a(7883);let E=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.ez,Q,B.m,V.Q,z.m]]}),i})()}}]);