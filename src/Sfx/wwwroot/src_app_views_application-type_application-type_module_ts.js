"use strict";(self.webpackChunkSfxWeb=self.webpackChunkSfxWeb||[]).push([["src_app_views_application-type_application-type_module_ts"],{2165:(x,f,i)=>{i.d(f,{J:()=>t});var n=i(2654),u=i(1086),h=i(5467),y=i(1709),C=i(5563),_=i(2684),g=i(5e3);let t=(()=>{class r{constructor(d){this.injector=d,this.subscriptions=new n.w}ngOnInit(){this.activatedRoute=this.injector.get(h.gz),this.refreshService=this.injector.get(C.g),this.messageService=this.injector.get(_.e),this.router=this.injector.get(h.F0),this.subscriptions.add(this.activatedRoute.params.subscribe(()=>{this.getParams(this.activatedRoute.snapshot),this.setup(),this.subscriptions.add(this.refreshService.refreshSubject.subscribe(()=>this.fullRefresh().subscribe())),this.subscriptions.add(this.fullRefresh().subscribe())})),console.log(this)}getClassName(){return this.constructor.name}setup(){}ngOnDestroy(){this.subscriptions.unsubscribe()}fullRefresh(){return this.common().pipe((0,y.zg)(()=>this.refresh(this.messageService)))}getParams(d){}refresh(d){return(0,u.of)(null)}common(d){return(0,u.of)(null)}}return r.\u0275fac=function(d){return new(d||r)(g.Y36(g.zs3))},r.\u0275dir=g.lG2({type:r}),r})()},8285:(x,f,i)=>{i.d(f,{P:()=>Z});var n=i(5e3),u=i(5664),h=i(9808),y=i(322);function C(p,T){if(1&p&&n._UZ(0,"button",5),2&p){const c=n.oxw();n.Gre("mif-2x status-icon ",c.collapsed?"mif-arrow-drop-down":"mif-arrow-drop-up",""),n.uIk("aria-label",c.displayText)("aria-expanded",!c.collapsed)}}function _(p,T){1&p&&(n.TgZ(0,"div"),n.Hsn(1,1),n.qZA())}function g(p,T){1&p&&(n.TgZ(0,"div"),n.Hsn(1,2),n.qZA())}const t=[[["","collapse-header",""]],[["","collapse-body",""]],[["","closed-body",""]]],r=function(p){return{"base-header":p}},v=function(p){return{"margin-left":p}},d=["[collapse-header]","[collapse-body]","[closed-body]"];let Z=(()=>{class p{constructor(c){this.liveAnnouncer=c,this.collapsed=!1,this.disabled=!1,this.hideTooltip=!1,this.sectionName="this",this.tooltipSouth=!1,this.collapsedChange=new n.vpe,this.displayText=""}ngOnChanges(){this.setText()}ngOnInit(){this.setText()}changeCollapseState(){this.disabled||(this.liveAnnouncer.announce(this.sectionName+" Section has been "+this.collapsed?"Opened":"Closed"),this.collapsed=!this.collapsed,this.collapsedChange.emit(this.collapsed)),this.setText()}setText(){this.displayText=(this.collapsed?"Open ":"Close ")+this.sectionName+" Section"}}return p.\u0275fac=function(c){return new(c||p)(n.Y36(u.Kd))},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-collapse-container"]],inputs:{collapsed:"collapsed",disabled:"disabled",hideTooltip:"hideTooltip",sectionName:"sectionName",tooltipSouth:"tooltipSouth"},outputs:{collapsedChange:"collapsedChange"},features:[n.TTD],ngContentSelectors:d,decls:7,vars:13,consts:[[2,"position","relative"],["tooltipClass","styled-tooltip",1,"flex-center",3,"ngClass","ngbTooltip","placement","disableTooltip","click"],["tabindex","0",3,"class",4,"ngIf"],[1,"header-wrapper",3,"ngStyle"],[4,"ngIf"],["tabindex","0"]],template:function(c,l){1&c&&(n.F$t(t),n.TgZ(0,"div",0)(1,"div",1),n.NdJ("click",function(){return l.changeCollapseState()}),n.YNc(2,C,1,5,"button",2),n.TgZ(3,"div",3),n.Hsn(4),n.qZA()(),n.YNc(5,_,2,0,"div",4),n.YNc(6,g,2,0,"div",4),n.qZA()),2&c&&(n.xp6(1),n.Q6J("ngClass",n.VKq(9,r,!l.disabled))("ngbTooltip",l.displayText)("placement",l.tooltipSouth?"bottom":"top")("disableTooltip",l.disabled||l.hideTooltip),n.uIk("aria-expanded",!l.collapsed),n.xp6(1),n.Q6J("ngIf",!l.disabled),n.xp6(1),n.Q6J("ngStyle",n.VKq(11,v,l.disabled?"25px":"")),n.xp6(2),n.Q6J("ngIf",!l.collapsed),n.xp6(1),n.Q6J("ngIf",l.collapsed))},directives:[h.mk,y._L,h.O5,h.PC],styles:[".base-header[_ngcontent-%COMP%]{border-radius:var(--primary-border-radius);cursor:pointer}.base-header[_ngcontent-%COMP%]:hover, .base-header[_ngcontent-%COMP%]:focus-within{filter:brightness(100%);background-color:#ffffff1a}.header-wrapper[_ngcontent-%COMP%]{width:calc(100% - 25px);display:inline-block}.status-icon[_ngcontent-%COMP%]{width:25px}button[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:0px;color:#fff}"]}),p})()},4875:(x,f,i)=>{i.r(f),i.d(f,{ApplicationTypeModule:()=>w});var n=i(9808),u=i(5467),h=i(1709),y=i(567),C=i(4850),_=i(4286),g=i(2165),t=i(5e3),r=i(7559);let v=(()=>{class s extends g.J{constructor(e,o){super(o),this.data=e}common(e){return this.data.getAppTypeGroup(this.appTypeName,!0,e).pipe((0,C.U)(o=>{this.appTypeGroup=o}))}getParams(e){this.appTypeName=_.a.getAppTypeName(e)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.D),t.Y36(t.zs3))},s.\u0275dir=t.lG2({type:s,features:[t.qOj]}),s})();function d(s,a){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()()),2&s){const e=a.$implicit;t.xp6(2),t.hij(" ",e.Type," "),t.xp6(2),t.hij(" ",e.Name," "),t.xp6(2),t.hij(" ",e.Version," ")}}function Z(s,a){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",2)(7,"table",5)(8,"tr")(9,"th"),t._uU(10,"Type"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Version"),t.qZA()(),t.YNc(15,d,7,3,"tr",4),t.qZA()()()()),2&s){const e=a.$implicit;t.xp6(2),t.hij(" ",e.raw.ServiceManifestName," "),t.xp6(2),t.hij(" ",e.raw.ServiceManifestVersion," "),t.xp6(11),t.Q6J("ngForOf",e.manifest.packages)}}function p(s,a){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",2)(7,"table",5)(8,"tr")(9,"th"),t._uU(10,"Package Name"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Version"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Packages"),t.qZA()(),t.YNc(15,Z,16,3,"tr",4),t.qZA()()()()),2&s){const e=a.$implicit;t.xp6(2),t.hij(" ",e.raw.Name," "),t.xp6(2),t.hij(" ",e.raw.Version," "),t.xp6(11),t.Q6J("ngForOf",e.serviceTypes.collection)}}function T(s,a){if(1&s&&(t.TgZ(0,"div",2)(1,"table",3)(2,"tr")(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Version"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Packages"),t.qZA()(),t.YNc(9,p,16,3,"tr",4),t.qZA()()),2&s){const e=t.oxw();t.xp6(9),t.Q6J("ngForOf",e.appTypeGroup.appTypes)}}let c=(()=>{class s extends v{constructor(e,o){super(e,o),this.data=e}setup(){}refresh(e){return(0,y.D)(this.appTypeGroup.appTypes.map(o=>o.serviceTypes.refresh(e).pipe((0,h.zg)(()=>(0,y.D)(o.serviceTypes.collection.map(A=>A.manifest.refresh(e)))))))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.D),t.Y36(t.zs3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-details"]],features:[t.qOj],decls:4,vars:1,consts:[[1,"detail-pane"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],[1,"table","detail-table",2,"width","100%"],[4,"ngFor","ngForOf"],[1,"table","detail-param-table"]],template:function(e,o){1&e&&(t.TgZ(0,"h4"),t._uU(1," Package Versions\n"),t.qZA(),t.TgZ(2,"div",0),t.YNc(3,T,10,1,"div",1),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.appTypeGroup))},directives:[n.O5,n.sg],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),s})();var l=i(6174),O=i(4333),U=i(8285),m=i(322),D=i(8833);function E(s,a){if(1&s&&t._UZ(0,"app-detail-list",12),2&s){const e=t.oxw(2);t.Q6J("list",e.activeAppTypes)("listSettings",e.activeAppTypesListSettings)}}function S(s,a){if(1&s&&t._UZ(0,"app-detail-list",13),2&s){const e=t.oxw(2);t.Q6J("list",e.appTypeGroup.appTypes)("listSettings",e.appTypesListSettings)}}function P(s,a){if(1&s&&(t.TgZ(0,"div",1)(1,"app-collapse-container",2)(2,"h4",3),t._uU(3," Application Type versions "),t.qZA(),t.TgZ(4,"div",4)(5,"div",5,6)(7,"div",7)(8,"a",8),t._uU(9," In Use "),t._UZ(10,"span",9),t.qZA(),t.YNc(11,E,1,2,"ng-template",10),t.qZA(),t.TgZ(12,"div",7)(13,"a",8),t._uU(14," All "),t.qZA(),t.YNc(15,S,1,2,"ng-template",10),t.qZA()(),t._UZ(16,"div",11),t.qZA()()()),2&s){const e=t.MAs(6);t.xp6(16),t.Q6J("ngbNavOutlet",e)}}function M(s,a){if(1&s&&(t.TgZ(0,"div",1)(1,"app-collapse-container",14)(2,"h4",3),t._uU(3," Applications "),t.qZA(),t._UZ(4,"app-detail-list",15),t.qZA()()),2&s){const e=t.oxw();t.xp6(4),t.Q6J("list",e.appTypeGroup.apps)("listSettings",e.appsListSettings)}}let I=(()=>{class s extends v{constructor(e,o,A){super(e,o),this.data=e,this.settings=A,this.activeAppTypes=[]}setup(){this.activeAppTypesListSettings=this.settings.getNewOrExistingAppTypeListSettings(),this.appTypesListSettings=this.settings.getNewOrExistingAppTypeListSettings(!0),this.appsListSettings=this.settings.getNewOrExistingListSettings("appTypeApps",["name"],[new l.a7("name","Name",e=>e.viewPath),new l.NL("raw.TypeName","Application Type"),new l.NL("raw.TypeVersion","Version"),new l.Gp("healthState","Health State"),new l.v0("raw.Status","Status")])}refresh(e){return this.data.getApps(!0,e).pipe((0,C.U)(()=>{this.activeAppTypes=this.appTypeGroup.activeAppTypes}))}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.D),t.Y36(t.zs3),t.Y36(O.g))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-essentials"]],features:[t.qOj],decls:2,vars:2,consts:[["class","detail-pane essen-pane",4,"ngIf"],[1,"detail-pane","essen-pane"],["sectionName","Application Type versions"],["collapse-header",""],["collapse-body",""],["ngbNav","",1,"nav-wrapper"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink","",2,"font-size","12pt"],["tabindex","0","ngbTooltip","Application Types which have at least 1 application instance.","placement","bottom","tooltipClass","styled-tooltip","container","body",1,"mif-info",2,"font-size","small"],["ngbNavContent",""],[3,"ngbNavOutlet"],["data-cy","appTypeVersions",3,"list","listSettings"],[3,"list","listSettings"],["sectionName","Applications"],["collapse-body","","data-cy","applicationsList",3,"list","listSettings"]],template:function(e,o){1&e&&(t.YNc(0,P,17,1,"div",0),t.YNc(1,M,5,2,"div",0)),2&e&&(t.Q6J("ngIf",o.appTypeGroup),t.xp6(1),t.Q6J("ngIf",o.appTypeGroup))},directives:[n.O5,U.P,m.Pz,m.nv,m.Vx,m._L,m.uN,D.m,m.tO],styles:[""]}),s})();var b=i(5237),B=i(2261),L=i(8118);const R=[{path:"",component:(()=>{class s extends v{constructor(e,o,A){super(e,o),this.data=e,this.tree=A,this.tabs=[{name:"essentials",route:"./"},{name:"details",route:"./details"}]}setup(){this.tree.selectTreeNode([b.R.cluster(),b.R.appGroup(),b.R.appType(this.appTypeName)],!0)}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.D),t.Y36(t.zs3),t.Y36(B.r))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-base"]],features:[t.qOj],decls:4,vars:3,consts:[["type","Application Type",3,"tabs","name","actions"],[1,"main-view"],[1,"flex-child"]],template:function(e,o){1&e&&(t._UZ(0,"app-navbar",0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"router-outlet"),t.qZA()()),2&e&&t.Q6J("tabs",o.tabs)("name",o.appTypeName)("actions",null==o.appTypeGroup?null:o.appTypeGroup.actions)},directives:[L.S,u.lC],styles:[""]}),s})(),children:[{path:"",component:I},{path:"details",component:c}]}];let Y=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[u.Bz.forChild(R)],u.Bz]}),s})();var j=i(4466),J=i(6461),N=i(3075);let w=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[n.ez,Y,j.m,J.Q,N.UX,N.u5,m.Oz,m.HK]]}),s})()}}]);